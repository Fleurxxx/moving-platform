{
    "sourceFile": "src/component/Video.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 19,
            "patches": [
                {
                    "date": 1711099964714,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1711219988478,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,118 +1,118 @@\n <template>\r\n-    <div>\r\n-        <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n-    </div>\r\n-  </template>\r\n-  \r\n-  <script>\r\n-    export default {\r\n-      data() {\r\n-          return {\r\n-              playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n-              scriptTagStatus: 0,\r\n-              isReload: false,\r\n-              instance: null,\r\n-              danmukuList: [{\r\n-                \"mode\": 1,\r\n-                \"text\": \"test\",\r\n-                \"stime\": 1000,\r\n-                \"size\": 25,\r\n-                \"color\": 0xffffff\r\n-              }, {\r\n-                \"mode\": 1,\r\n-                \"text\": \"test\",\r\n-                \"stime\": 2000,\r\n-                \"size\": 25,\r\n-                \"color\": 0xff0000\r\n-              }, {\r\n-                \"mode\": 1,\r\n-                \"text\": \"test\",\r\n-                \"stime\": 30000,\r\n-                \"size\": 25,\r\n-                \"color\": 0xff0000\r\n-              }],\r\n-          }\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n+</template>\r\n+\r\n+<script>\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }],\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n       },\r\n-      created() {\r\n-          \r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n\\ No newline at end of file\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [{\r\n+              name: 'AliplayerDanmuComponent',\r\n+              // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+              // args: [danmukuList]\r\n+            }]\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n       },\r\n-      watch: {\r\n-        // 监听视频Id的变化\r\n-        async videoId(newVal, oldVal) {\r\n-          await this.getPlayAuth; //重新获取playAuth\r\n-          this.init(); // 监听变化初始化\r\n-        },\r\n-      },\r\n-      mounted() {\r\n-        this.init();\r\n-      },\r\n-      methods: {\r\n-        //从后端获取playAuth(视频播放凭证，根据videoId)\r\n-      async getPlayAuth() {\r\n-        // let res = await getAuth(this.videoId);\r\n-        // this.PlayAuth = res.data.data.PlayAuth;\r\n-      },\r\n-      //初始化aliplayer\r\n-      async init() {\r\n-          var This = this;\r\n-          if (This.player) {\r\n-            // 如果已经创建了，就销毁\r\n-            This.player.dispose();\r\n-          }\r\n-          // let res = await getAuth(This.videoId);\r\n-          // This.PlayAuth = res.data.data.PlayAuth;\r\n-          // 创建实例\r\n-          var player = new Aliplayer({\r\n-              id: this.playerId,\r\n-              width: '100%',\r\n-              autoplay: true,\r\n-              //支持播放地址播放,此播放优先级最高\r\n-              source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-              //播放方式二：点播用户推荐\r\n-              vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-              playauth : '', //必选参数。音视频播放凭证。\r\n-              cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-              //播放方式三：仅MPS用户使用\r\n-              vid : '1e067a2831b641db90d570b6480fbc40',\r\n-              accId: '',\r\n-              accSecret: '',\r\n-              stsToken: '',\r\n-              domainRegion: '',\r\n-              authInfo: '',\r\n-              //播放方式四：使用STS方式播放\r\n-              vid : '1e067a2831b641db90d570b6480fbc40',\r\n-              accessKeyId: '',\r\n-              securityToken: '',\r\n-              accessKeySecret: '',\r\n-              // isLive: true,\r\n-              // getCurrentTime: _this.aaaa\r\n-              // 以下可选设置\r\n-              cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-              qualitySort: 'asc', // 清晰度排序\r\n-              mediaType: 'video', // 返回音频还是视频\r\n-              autoplay: false, // 自动播放\r\n-              isLive: false, // 直播\r\n-              rePlay: false, // 循环播放\r\n-              preload: true,\r\n-              controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-              controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-              showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-              components: [{\r\n-                name: 'AliplayerDanmuComponent',\r\n-                // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-                // args: [danmukuList]\r\n-              }]\r\n-  \r\n-          },function(player){\r\n-              console.log('播放器创建好了。')\r\n-          });\r\n-          This.player = player;\r\n-        },\r\n-        \r\n-      }\r\n-  }\r\n-  </script>\r\n-  \r\n-  <style lang=\"postcss\" scoped>\r\n-    @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n-  </style>\n+      \r\n+    }\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711220496908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,118 +1,316 @@\n <template>\r\n-  <div>\r\n-      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n-  </div>\r\n+  <!-- :style='playStyle' -->\r\n+  <div class='prism-player' :id='playerId'></div>\r\n </template>\r\n-\r\n <script>\r\n   export default {\r\n-    data() {\r\n-        return {\r\n-            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n-            scriptTagStatus: 0,\r\n-            isReload: false,\r\n-            instance: null,\r\n-            danmukuList: [{\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 1000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xffffff\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 2000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 30000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }],\r\n-        }\r\n+    name: 'Aliplayer',\r\n+    props: {\r\n+      playStyle: {\r\n+        type: String,\r\n+        default: ''\r\n+      },\r\n+      aliplayerSdkPath: {\r\n+        // Aliplayer 代码的路径\r\n+        type: String,\r\n+        // default: '//g.alicdn.com/de/prismplayer/2.6.0/aliplayer-min.js'\r\n+        default: 'https://g.alicdn.com/de/prismplayer/2.8.2/aliplayer-min.js'\r\n+      },\r\n+      autoplay: {\r\n+        type: Boolean,\r\n+        default: false\r\n+      },\r\n+ \r\n+      encryptType: {\r\n+        type: Number,\r\n+        default: 1\r\n+      },\r\n+ \r\n+ \r\n+      isLive: {\r\n+        type: Boolean,\r\n+        default: false\r\n+      },\r\n+      playsinline: {\r\n+        type: Boolean,\r\n+        default: false\r\n+      },\r\n+      width: {\r\n+        type: String,\r\n+        default: '100%'\r\n+      },\r\n+      height: {\r\n+        type: String,\r\n+        default: '100%'\r\n+      },\r\n+      controlBarVisibility: {\r\n+        type: String,\r\n+        default: 'always'\r\n+      },\r\n+      useH5Prism: {\r\n+        type: Boolean,\r\n+        default: false\r\n+      },\r\n+      useFlashPrism: {\r\n+        type: Boolean,\r\n+        default: false\r\n+      },\r\n+      vid: {\r\n+        type: String,\r\n+        default: ''\r\n+      },\r\n+      playauth: {\r\n+        type: String,\r\n+        default: ''\r\n+      },\r\n+      source: {\r\n+        type: String,\r\n+        default: ''\r\n+      },\r\n+      cover: {\r\n+        type: String,\r\n+        default: ''\r\n+      },\r\n+      format: {\r\n+        type: String,\r\n+        default: 'm3u8'\r\n+      },\r\n+      x5_video_position: {\r\n+        type: String,\r\n+        default: 'top'\r\n+      },\r\n+      x5_type: {\r\n+        type: String,\r\n+        default: 'h5'\r\n+      },\r\n+      x5_fullscreen: {\r\n+        type: Boolean,\r\n+        default: false\r\n+      },\r\n+      x5_orientation: {\r\n+        type: Number,\r\n+        default: 2\r\n+      },\r\n+      autoPlayDelay: {\r\n+        type: Number,\r\n+        default: 0\r\n+      },\r\n+      autoPlayDelayDisplayText: {\r\n+        type: String\r\n+      }\r\n     },\r\n-    created() {\r\n-        \r\n+    data () {\r\n+      return {\r\n+        playerId: 'aliplayer_' + Math.random() * 100000000000000000,\r\n+        scriptTagStatus: 0,\r\n+        instance: null\r\n+      }\r\n     },\r\n+    created () {\r\n+        // this.dataUpdate();\r\n+ \r\n+      if (window.Aliplayer !== undefined) {\r\n+        // 如果全局对象存在，说明编辑器代码已经初始化完成，直接加载编辑器\r\n+        this.scriptTagStatus = 2\r\n+        this.initAliplayer()\r\n+      } else {\r\n+        // 如果全局对象不存在，说明编辑器代码还没有加载完成，需要加载编辑器代码\r\n+        this.insertScriptTag()\r\n+      }\r\n+      \r\n+    },\r\n+    mounted () {\r\n+      if (window.Aliplayer !== undefined) {\r\n+        // 如果全局对象存在，说明编辑器代码已经初始化完成，直接加载编辑器\r\n+        this.scriptTagStatus = 2\r\n+        this.initAliplayer()\r\n+      } else {\r\n+        // 如果全局对象不存在，说明编辑器代码还没有加载完成，需要加载编辑器代码\r\n+        this.insertScriptTag()\r\n+      }\r\n+    },\r\n     watch: {\r\n-      // 监听视频Id的变化\r\n-      async videoId(newVal, oldVal) {\r\n-        await this.getPlayAuth; //重新获取playAuth\r\n-        this.init(); // 监听变化初始化\r\n-      },\r\n+      // vid() {\r\n+      //   console.log(this.vid)\r\n+      // }\r\n     },\r\n-    mounted() {\r\n-      this.init();\r\n-    },\r\n     methods: {\r\n-      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n-    async getPlayAuth() {\r\n-      // let res = await getAuth(this.videoId);\r\n-      // this.PlayAuth = res.data.data.PlayAuth;\r\n-    },\r\n-    //初始化aliplayer\r\n-    async init() {\r\n-        var This = this;\r\n-        if (This.player) {\r\n-          // 如果已经创建了，就销毁\r\n-          This.player.dispose();\r\n+      insertScriptTag () {\r\n+        const _this = this\r\n+        let playerScriptTag = document.getElementById('playerScriptTag')\r\n+        // 如果这个tag不存在，则生成相关代码tag以加载代码\r\n+        if (playerScriptTag === null) {\r\n+          playerScriptTag = document.createElement('script')\r\n+          playerScriptTag.type = 'text/javascript'\r\n+          playerScriptTag.src = this.aliplayerSdkPath\r\n+          playerScriptTag.id = 'playerScriptTag'\r\n+          let s = document.getElementsByTagName('head')[0]\r\n+          s.appendChild(playerScriptTag)\r\n         }\r\n-        // let res = await getAuth(This.videoId);\r\n-        // This.PlayAuth = res.data.data.PlayAuth;\r\n-        // 创建实例\r\n-        var player = new Aliplayer({\r\n-            id: this.playerId,\r\n-            width: '100%',\r\n-            autoplay: true,\r\n-            //支持播放地址播放,此播放优先级最高\r\n-            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-            //播放方式二：点播用户推荐\r\n-            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-            playauth : '', //必选参数。音视频播放凭证。\r\n-            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-            //播放方式三：仅MPS用户使用\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accId: '',\r\n-            accSecret: '',\r\n-            stsToken: '',\r\n-            domainRegion: '',\r\n-            authInfo: '',\r\n-            //播放方式四：使用STS方式播放\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accessKeyId: '',\r\n-            securityToken: '',\r\n-            accessKeySecret: '',\r\n-            // isLive: true,\r\n-            // getCurrentTime: _this.aaaa\r\n-            // 以下可选设置\r\n-            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-            qualitySort: 'asc', // 清晰度排序\r\n-            mediaType: 'video', // 返回音频还是视频\r\n-            autoplay: false, // 自动播放\r\n-            isLive: false, // 直播\r\n-            rePlay: false, // 循环播放\r\n-            preload: true,\r\n-            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-            components: [{\r\n-              name: 'AliplayerDanmuComponent',\r\n-              // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-              // args: [danmukuList]\r\n-            }]\r\n-\r\n-        },function(player){\r\n-            console.log('播放器创建好了。')\r\n-        });\r\n-        This.player = player;\r\n+        if (playerScriptTag.loaded) {\r\n+          _this.scriptTagStatus++\r\n+        } else {\r\n+          playerScriptTag.addEventListener('load', () => {\r\n+            _this.scriptTagStatus++\r\n+            playerScriptTag.loaded = true\r\n+            _this.initAliplayer()\r\n+          })\r\n+        }\r\n+        _this.initAliplayer()\r\n       },\r\n-      \r\n+      initAliplayer () {\r\n+        const _this = this\r\n+        // scriptTagStatus 为 2 的时候，说明两个必需引入的 js 文件都已经被引入，且加载完成\r\n+        if (_this.scriptTagStatus === 2 && _this.instance === null) {\r\n+          // Vue 异步执行 DOM 更新，这样一来代码执行到这里的时候可能 template 里面的 script 标签还没真正创建\r\n+          // 所以，我们只能在 nextTick 里面初始化 Aliplayer\r\n+          _this.$nextTick(() => {\r\n+            // console.log(_this.encryptType)\r\n+            // console.log(_this.vid)\r\n+            // console.log(_this.playauth)\r\n+            _this.instance = window.Aliplayer({\r\n+              id: _this.playerId,\r\n+              autoplay: _this.autoplay,\r\n+ \r\n+              encryptType:_this.encryptType,\r\n+ \r\n+              isLive: _this.isLive,\r\n+              playsinline: _this.playsinline,\r\n+              format: _this.format,\r\n+              width: _this.width,\r\n+              height: _this.height,\r\n+              controlBarVisibility: _this.controlBarVisibility,\r\n+              useH5Prism: _this.useH5Prism,\r\n+              useFlashPrism: _this.useFlashPrism,\r\n+              vid: _this.vid,\r\n+              playauth: _this.playauth,\r\n+              source: _this.source,\r\n+              cover: _this.cover,\r\n+              x5_video_position: _this.x5_video_position,\r\n+              x5_type: _this.x5_type,\r\n+              x5_fullscreen: _this.x5_fullscreen,\r\n+              x5_orientation: _this.x5_orientation,\r\n+              autoPlayDelay: _this.autoPlayDelay,\r\n+              autoPlayDelayDisplayText: _this.autoPlayDelayDisplayText\r\n+            })\r\n+            // 绑定事件，当 AliPlayer 初始化完成后，将编辑器实例通过自定义的 ready 事件交出去\r\n+            _this.instance.on('ready', () => {\r\n+              this.$emit('ready', _this.instance)\r\n+            })\r\n+            _this.instance.on('play', () => {\r\n+              this.$emit('play', _this.instance)\r\n+            })\r\n+            _this.instance.on('pause', () => {\r\n+              this.$emit('pause', _this.instance)\r\n+            })\r\n+            _this.instance.on('ended', () => {\r\n+              this.$emit('ended', _this.instance)\r\n+            })\r\n+            _this.instance.on('liveStreamStop', () => {\r\n+              this.$emit('liveStreamStop', _this.instance)\r\n+            })\r\n+            _this.instance.on('m3u8Retry', () => {\r\n+              this.$emit('m3u8Retry', _this.instance)\r\n+            })\r\n+            _this.instance.on('hideBar', () => {\r\n+              this.$emit('hideBar', _this.instance)\r\n+            })\r\n+            _this.instance.on('waiting', () => {\r\n+              this.$emit('waiting', _this.instance)\r\n+            })\r\n+            _this.instance.on('snapshoted', () => {\r\n+              this.$emit('snapshoted', _this.instance)\r\n+            })\r\n+          })\r\n+        }\r\n+      },\r\n+      /**\r\n+       * 播放视频\r\n+       */\r\n+      play: function () {\r\n+        this.instance.play()\r\n+      },\r\n+      /**\r\n+       * 暂停视频\r\n+       */\r\n+      pause: function () {\r\n+        this.instance.pause()\r\n+      },\r\n+      /**\r\n+       * 重播视频\r\n+       */\r\n+      replay: function () {\r\n+        this.instance.replay()\r\n+      },\r\n+      /**\r\n+       * 跳转到某个时刻进行播放\r\n+       * @argument time 的单位为秒\r\n+       */\r\n+      seek: function (time) {\r\n+        this.instance.seek(time)\r\n+      },\r\n+      /**\r\n+       * 获取当前时间 单位秒\r\n+       */\r\n+      getCurrentTime: function () {\r\n+        return this.instance.getCurrentTime()\r\n+      },\r\n+      /**\r\n+       *获取视频总时长，返回的单位为秒\r\n+       * @returns 返回的单位为秒\r\n+       */\r\n+      getDuration: function () {\r\n+        return this.instance.getDuration()\r\n+      },\r\n+      /**\r\n+       获取当前的音量，返回值为0-1的实数ios和部分android会失效\r\n+       */\r\n+      getVolume: function () {\r\n+        return this.instance.getVolume()\r\n+      },\r\n+      /**\r\n+       设置音量，vol为0-1的实数，ios和部分android会失效\r\n+       */\r\n+      setVolume: function (vol) {\r\n+        this.instance.setVolume(vol)\r\n+      },\r\n+      /**\r\n+       *直接播放视频url，time为可选值（单位秒）目前只支持同种格式（mp4/flv/m3u8）之间切换暂不支持直播rtmp流切换\r\n+       *@argument url 视频地址\r\n+       *@argument time 跳转到多少秒\r\n+       */\r\n+      loadByUrl: function (url, time) {\r\n+        this.instance.loadByUrl(url, time)\r\n+      },\r\n+      /**\r\n+       * 设置播放速度\r\n+       *@argument speed 速度\r\n+       */\r\n+      setSpeed: function (speed) {\r\n+        this.instance.setSpeed(speed)\r\n+      },\r\n+      /**\r\n+       * 设置播放器大小w,h可分别为400px像素或60%百分比chrome浏览器下flash播放器分别不能小于397x297\r\n+       *@argument w 播放器宽度\r\n+       *@argument h 播放器高度\r\n+       */\r\n+      setPlayerSize: function (w, h) {\r\n+        this.instance.setPlayerSize(w, h)\r\n+      },\r\n+      /**\r\n+       * 目前只支持HTML5界面上的重载功能,暂不支持直播rtmp流切换m3u8）之间切换,暂不支持直播rtmp流切换\r\n+       *@argument vid 视频id\r\n+       *@argument playauth 播放凭证\r\n+       */\r\n+      reloaduserPlayInfoAndVidRequestMts: function (vid, playauth) {\r\n+        this.instance.reloaduserPlayInfoAndVidRequestMts(vid, playauth)\r\n+      },\r\n     }\r\n-}\r\n+  }\r\n </script>\r\n-\r\n-<style lang=\"postcss\" scoped>\r\n-  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+<!-- playauth -->\r\n+<style>\r\n+ \r\n+  /* @import url(https://g.alicdn.com/de/prismplayer/2.6.0/skins/default/aliplayer-min.css); */\r\n+   @import url(https://g.alicdn.com/de/prismplayer/2.8.2/skins/default/aliplayer-min.css);\r\n </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711220653744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,316 +1,118 @@\n <template>\r\n-  <!-- :style='playStyle' -->\r\n-  <div class='prism-player' :id='playerId'></div>\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n </template>\r\n+\r\n <script>\r\n   export default {\r\n-    name: 'Aliplayer',\r\n-    props: {\r\n-      playStyle: {\r\n-        type: String,\r\n-        default: ''\r\n-      },\r\n-      aliplayerSdkPath: {\r\n-        // Aliplayer 代码的路径\r\n-        type: String,\r\n-        // default: '//g.alicdn.com/de/prismplayer/2.6.0/aliplayer-min.js'\r\n-        default: 'https://g.alicdn.com/de/prismplayer/2.8.2/aliplayer-min.js'\r\n-      },\r\n-      autoplay: {\r\n-        type: Boolean,\r\n-        default: false\r\n-      },\r\n- \r\n-      encryptType: {\r\n-        type: Number,\r\n-        default: 1\r\n-      },\r\n- \r\n- \r\n-      isLive: {\r\n-        type: Boolean,\r\n-        default: false\r\n-      },\r\n-      playsinline: {\r\n-        type: Boolean,\r\n-        default: false\r\n-      },\r\n-      width: {\r\n-        type: String,\r\n-        default: '100%'\r\n-      },\r\n-      height: {\r\n-        type: String,\r\n-        default: '100%'\r\n-      },\r\n-      controlBarVisibility: {\r\n-        type: String,\r\n-        default: 'always'\r\n-      },\r\n-      useH5Prism: {\r\n-        type: Boolean,\r\n-        default: false\r\n-      },\r\n-      useFlashPrism: {\r\n-        type: Boolean,\r\n-        default: false\r\n-      },\r\n-      vid: {\r\n-        type: String,\r\n-        default: ''\r\n-      },\r\n-      playauth: {\r\n-        type: String,\r\n-        default: ''\r\n-      },\r\n-      source: {\r\n-        type: String,\r\n-        default: ''\r\n-      },\r\n-      cover: {\r\n-        type: String,\r\n-        default: ''\r\n-      },\r\n-      format: {\r\n-        type: String,\r\n-        default: 'm3u8'\r\n-      },\r\n-      x5_video_position: {\r\n-        type: String,\r\n-        default: 'top'\r\n-      },\r\n-      x5_type: {\r\n-        type: String,\r\n-        default: 'h5'\r\n-      },\r\n-      x5_fullscreen: {\r\n-        type: Boolean,\r\n-        default: false\r\n-      },\r\n-      x5_orientation: {\r\n-        type: Number,\r\n-        default: 2\r\n-      },\r\n-      autoPlayDelay: {\r\n-        type: Number,\r\n-        default: 0\r\n-      },\r\n-      autoPlayDelayDisplayText: {\r\n-        type: String\r\n-      }\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }],\r\n+        }\r\n     },\r\n-    data () {\r\n-      return {\r\n-        playerId: 'aliplayer_' + Math.random() * 100000000000000000,\r\n-        scriptTagStatus: 0,\r\n-        instance: null\r\n-      }\r\n+    created() {\r\n+        \r\n     },\r\n-    created () {\r\n-        // this.dataUpdate();\r\n- \r\n-      if (window.Aliplayer !== undefined) {\r\n-        // 如果全局对象存在，说明编辑器代码已经初始化完成，直接加载编辑器\r\n-        this.scriptTagStatus = 2\r\n-        this.initAliplayer()\r\n-      } else {\r\n-        // 如果全局对象不存在，说明编辑器代码还没有加载完成，需要加载编辑器代码\r\n-        this.insertScriptTag()\r\n-      }\r\n-      \r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n     },\r\n-    mounted () {\r\n-      if (window.Aliplayer !== undefined) {\r\n-        // 如果全局对象存在，说明编辑器代码已经初始化完成，直接加载编辑器\r\n-        this.scriptTagStatus = 2\r\n-        this.initAliplayer()\r\n-      } else {\r\n-        // 如果全局对象不存在，说明编辑器代码还没有加载完成，需要加载编辑器代码\r\n-        this.insertScriptTag()\r\n-      }\r\n+    mounted() {\r\n+      this.init();\r\n     },\r\n-    watch: {\r\n-      // vid() {\r\n-      //   console.log(this.vid)\r\n-      // }\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n     },\r\n-    methods: {\r\n-      insertScriptTag () {\r\n-        const _this = this\r\n-        let playerScriptTag = document.getElementById('playerScriptTag')\r\n-        // 如果这个tag不存在，则生成相关代码tag以加载代码\r\n-        if (playerScriptTag === null) {\r\n-          playerScriptTag = document.createElement('script')\r\n-          playerScriptTag.type = 'text/javascript'\r\n-          playerScriptTag.src = this.aliplayerSdkPath\r\n-          playerScriptTag.id = 'playerScriptTag'\r\n-          let s = document.getElementsByTagName('head')[0]\r\n-          s.appendChild(playerScriptTag)\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n         }\r\n-        if (playerScriptTag.loaded) {\r\n-          _this.scriptTagStatus++\r\n-        } else {\r\n-          playerScriptTag.addEventListener('load', () => {\r\n-            _this.scriptTagStatus++\r\n-            playerScriptTag.loaded = true\r\n-            _this.initAliplayer()\r\n-          })\r\n-        }\r\n-        _this.initAliplayer()\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [{\r\n+              name: 'AliplayerDanmuComponent',\r\n+              // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+              // args: [danmukuList]\r\n+            }]\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n       },\r\n-      initAliplayer () {\r\n-        const _this = this\r\n-        // scriptTagStatus 为 2 的时候，说明两个必需引入的 js 文件都已经被引入，且加载完成\r\n-        if (_this.scriptTagStatus === 2 && _this.instance === null) {\r\n-          // Vue 异步执行 DOM 更新，这样一来代码执行到这里的时候可能 template 里面的 script 标签还没真正创建\r\n-          // 所以，我们只能在 nextTick 里面初始化 Aliplayer\r\n-          _this.$nextTick(() => {\r\n-            // console.log(_this.encryptType)\r\n-            // console.log(_this.vid)\r\n-            // console.log(_this.playauth)\r\n-            _this.instance = window.Aliplayer({\r\n-              id: _this.playerId,\r\n-              autoplay: _this.autoplay,\r\n- \r\n-              encryptType:_this.encryptType,\r\n- \r\n-              isLive: _this.isLive,\r\n-              playsinline: _this.playsinline,\r\n-              format: _this.format,\r\n-              width: _this.width,\r\n-              height: _this.height,\r\n-              controlBarVisibility: _this.controlBarVisibility,\r\n-              useH5Prism: _this.useH5Prism,\r\n-              useFlashPrism: _this.useFlashPrism,\r\n-              vid: _this.vid,\r\n-              playauth: _this.playauth,\r\n-              source: _this.source,\r\n-              cover: _this.cover,\r\n-              x5_video_position: _this.x5_video_position,\r\n-              x5_type: _this.x5_type,\r\n-              x5_fullscreen: _this.x5_fullscreen,\r\n-              x5_orientation: _this.x5_orientation,\r\n-              autoPlayDelay: _this.autoPlayDelay,\r\n-              autoPlayDelayDisplayText: _this.autoPlayDelayDisplayText\r\n-            })\r\n-            // 绑定事件，当 AliPlayer 初始化完成后，将编辑器实例通过自定义的 ready 事件交出去\r\n-            _this.instance.on('ready', () => {\r\n-              this.$emit('ready', _this.instance)\r\n-            })\r\n-            _this.instance.on('play', () => {\r\n-              this.$emit('play', _this.instance)\r\n-            })\r\n-            _this.instance.on('pause', () => {\r\n-              this.$emit('pause', _this.instance)\r\n-            })\r\n-            _this.instance.on('ended', () => {\r\n-              this.$emit('ended', _this.instance)\r\n-            })\r\n-            _this.instance.on('liveStreamStop', () => {\r\n-              this.$emit('liveStreamStop', _this.instance)\r\n-            })\r\n-            _this.instance.on('m3u8Retry', () => {\r\n-              this.$emit('m3u8Retry', _this.instance)\r\n-            })\r\n-            _this.instance.on('hideBar', () => {\r\n-              this.$emit('hideBar', _this.instance)\r\n-            })\r\n-            _this.instance.on('waiting', () => {\r\n-              this.$emit('waiting', _this.instance)\r\n-            })\r\n-            _this.instance.on('snapshoted', () => {\r\n-              this.$emit('snapshoted', _this.instance)\r\n-            })\r\n-          })\r\n-        }\r\n-      },\r\n-      /**\r\n-       * 播放视频\r\n-       */\r\n-      play: function () {\r\n-        this.instance.play()\r\n-      },\r\n-      /**\r\n-       * 暂停视频\r\n-       */\r\n-      pause: function () {\r\n-        this.instance.pause()\r\n-      },\r\n-      /**\r\n-       * 重播视频\r\n-       */\r\n-      replay: function () {\r\n-        this.instance.replay()\r\n-      },\r\n-      /**\r\n-       * 跳转到某个时刻进行播放\r\n-       * @argument time 的单位为秒\r\n-       */\r\n-      seek: function (time) {\r\n-        this.instance.seek(time)\r\n-      },\r\n-      /**\r\n-       * 获取当前时间 单位秒\r\n-       */\r\n-      getCurrentTime: function () {\r\n-        return this.instance.getCurrentTime()\r\n-      },\r\n-      /**\r\n-       *获取视频总时长，返回的单位为秒\r\n-       * @returns 返回的单位为秒\r\n-       */\r\n-      getDuration: function () {\r\n-        return this.instance.getDuration()\r\n-      },\r\n-      /**\r\n-       获取当前的音量，返回值为0-1的实数ios和部分android会失效\r\n-       */\r\n-      getVolume: function () {\r\n-        return this.instance.getVolume()\r\n-      },\r\n-      /**\r\n-       设置音量，vol为0-1的实数，ios和部分android会失效\r\n-       */\r\n-      setVolume: function (vol) {\r\n-        this.instance.setVolume(vol)\r\n-      },\r\n-      /**\r\n-       *直接播放视频url，time为可选值（单位秒）目前只支持同种格式（mp4/flv/m3u8）之间切换暂不支持直播rtmp流切换\r\n-       *@argument url 视频地址\r\n-       *@argument time 跳转到多少秒\r\n-       */\r\n-      loadByUrl: function (url, time) {\r\n-        this.instance.loadByUrl(url, time)\r\n-      },\r\n-      /**\r\n-       * 设置播放速度\r\n-       *@argument speed 速度\r\n-       */\r\n-      setSpeed: function (speed) {\r\n-        this.instance.setSpeed(speed)\r\n-      },\r\n-      /**\r\n-       * 设置播放器大小w,h可分别为400px像素或60%百分比chrome浏览器下flash播放器分别不能小于397x297\r\n-       *@argument w 播放器宽度\r\n-       *@argument h 播放器高度\r\n-       */\r\n-      setPlayerSize: function (w, h) {\r\n-        this.instance.setPlayerSize(w, h)\r\n-      },\r\n-      /**\r\n-       * 目前只支持HTML5界面上的重载功能,暂不支持直播rtmp流切换m3u8）之间切换,暂不支持直播rtmp流切换\r\n-       *@argument vid 视频id\r\n-       *@argument playauth 播放凭证\r\n-       */\r\n-      reloaduserPlayInfoAndVidRequestMts: function (vid, playauth) {\r\n-        this.instance.reloaduserPlayInfoAndVidRequestMts(vid, playauth)\r\n-      },\r\n+      \r\n     }\r\n-  }\r\n+}\r\n </script>\r\n-<!-- playauth -->\r\n-<style>\r\n- \r\n-  /* @import url(https://g.alicdn.com/de/prismplayer/2.6.0/skins/default/aliplayer-min.css); */\r\n-   @import url(https://g.alicdn.com/de/prismplayer/2.8.2/skins/default/aliplayer-min.css);\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711220704531,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n <template>\r\n   <div>\r\n+    jjjjjj\r\n       <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1711220724551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n <template>\r\n   <div>\r\n-    jjjjjj\r\n+    jjjjjj???????????\r\n       <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1711220768153,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,6 @@\n <template>\r\n   <div>\r\n-    jjjjjj???????????\r\n       <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n   </div>\r\n </template>\r\n \r\n"
                },
                {
                    "date": 1711221937978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,118 @@\n+<template>\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n+</template>\r\n+\r\n+<script>\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }],\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [{\r\n+              name: 'AliplayerDanmuComponent',\r\n+              // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+              // args: [danmukuList]\r\n+            }]\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+      },\r\n+      \r\n+    }\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711222084099,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n             mediaType: 'video', // 返回音频还是视频\r\n             autoplay: false, // 自动播放\r\n             isLive: false, // 直播\r\n             rePlay: false, // 循环播放\r\n-            preload: true,\r\n+            preload: true,\"preload\": false,    //播放器自动加载\r\n             controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n             controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n             showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n             components: [{\r\n@@ -114,123 +114,5 @@\n </script>\r\n \r\n <style lang=\"postcss\" scoped>\r\n   @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n-</style>\n-<template>\r\n-  <div>\r\n-      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n-  </div>\r\n-</template>\r\n-\r\n-<script>\r\n-  export default {\r\n-    data() {\r\n-        return {\r\n-            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n-            scriptTagStatus: 0,\r\n-            isReload: false,\r\n-            instance: null,\r\n-            danmukuList: [{\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 1000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xffffff\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 2000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 30000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }],\r\n-        }\r\n-    },\r\n-    created() {\r\n-        \r\n-    },\r\n-    watch: {\r\n-      // 监听视频Id的变化\r\n-      async videoId(newVal, oldVal) {\r\n-        await this.getPlayAuth; //重新获取playAuth\r\n-        this.init(); // 监听变化初始化\r\n-      },\r\n-    },\r\n-    mounted() {\r\n-      this.init();\r\n-    },\r\n-    methods: {\r\n-      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n-    async getPlayAuth() {\r\n-      // let res = await getAuth(this.videoId);\r\n-      // this.PlayAuth = res.data.data.PlayAuth;\r\n-    },\r\n-    //初始化aliplayer\r\n-    async init() {\r\n-        var This = this;\r\n-        if (This.player) {\r\n-          // 如果已经创建了，就销毁\r\n-          This.player.dispose();\r\n-        }\r\n-        // let res = await getAuth(This.videoId);\r\n-        // This.PlayAuth = res.data.data.PlayAuth;\r\n-        // 创建实例\r\n-        var player = new Aliplayer({\r\n-            id: this.playerId,\r\n-            width: '100%',\r\n-            autoplay: true,\r\n-            //支持播放地址播放,此播放优先级最高\r\n-            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-            //播放方式二：点播用户推荐\r\n-            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-            playauth : '', //必选参数。音视频播放凭证。\r\n-            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-            //播放方式三：仅MPS用户使用\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accId: '',\r\n-            accSecret: '',\r\n-            stsToken: '',\r\n-            domainRegion: '',\r\n-            authInfo: '',\r\n-            //播放方式四：使用STS方式播放\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accessKeyId: '',\r\n-            securityToken: '',\r\n-            accessKeySecret: '',\r\n-            // isLive: true,\r\n-            // getCurrentTime: _this.aaaa\r\n-            // 以下可选设置\r\n-            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-            qualitySort: 'asc', // 清晰度排序\r\n-            mediaType: 'video', // 返回音频还是视频\r\n-            autoplay: false, // 自动播放\r\n-            isLive: false, // 直播\r\n-            rePlay: false, // 循环播放\r\n-            preload: true,\r\n-            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-            components: [{\r\n-              name: 'AliplayerDanmuComponent',\r\n-              // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-              // args: [danmukuList]\r\n-            }]\r\n-\r\n-        },function(player){\r\n-            console.log('播放器创建好了。')\r\n-        });\r\n-        This.player = player;\r\n-      },\r\n-      \r\n-    }\r\n-}\r\n-</script>\r\n-\r\n-<style lang=\"postcss\" scoped>\r\n-  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711222240516,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,10 @@\n             playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n             scriptTagStatus: 0,\r\n             isReload: false,\r\n             instance: null,\r\n+            categoryList: [],\r\n+            movie: {},//接收影视详情\r\n             danmukuList: [{\r\n               \"mode\": 1,\r\n               \"text\": \"test\",\r\n               \"stime\": 1000,\r\n@@ -92,9 +94,9 @@\n             mediaType: 'video', // 返回音频还是视频\r\n             autoplay: false, // 自动播放\r\n             isLive: false, // 直播\r\n             rePlay: false, // 循环播放\r\n-            preload: true,\"preload\": false,    //播放器自动加载\r\n+            preload: true,   //播放器自动加载\r\n             controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n             controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n             showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n             components: [{\r\n"
                },
                {
                    "date": 1711222351116,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,9 +103,24 @@\n               name: 'AliplayerDanmuComponent',\r\n               // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n               // args: [danmukuList]\r\n             }]\r\n+            components: [{\r\n+                            name: 'MemoryPlayComponent',\r\n+                            type: AliPlayerComponent.MemoryPlayComponent,\r\n+                            args: [false, getTime, saveTime]\r\n+                        },\r\n+                        {\r\n+                            name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+                            type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+                            args: [this.danmukuList]\r\n+                        },],\r\n+————————————————\r\n \r\n+                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。\r\n+                        \r\n+原文链接：https://blog.csdn.net/adingyb/article/details/129658726\r\n+\r\n         },function(player){\r\n             console.log('播放器创建好了。')\r\n         });\r\n         This.player = player;\r\n"
                },
                {
                    "date": 1711222358446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,130 @@\n+<template>\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n+</template>\r\n+\r\n+<script>\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            categoryList: [],\r\n+            movie: {},//接收影视详情\r\n+            danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }],\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [{\r\n+              name: 'AliplayerDanmuComponent',\r\n+              // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+              // args: [danmukuList]\r\n+            }]\r\n+            components: [{\r\n+                name: 'MemoryPlayComponent',\r\n+                type: AliPlayerComponent.MemoryPlayComponent,\r\n+                args: [false, getTime, saveTime]\r\n+            },\r\n+            {\r\n+                name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+                type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+                args: [this.danmukuList]\r\n+            },],\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+      },\r\n+      \r\n+    }\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711222374454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,125 @@\n+<template>\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n+</template>\r\n+\r\n+<script>\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            categoryList: [],\r\n+            movie: {},//接收影视详情\r\n+            danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }],\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [{\r\n+                name: 'MemoryPlayComponent',\r\n+                type: AliPlayerComponent.MemoryPlayComponent,\r\n+                args: [false, getTime, saveTime]\r\n+            },\r\n+            {\r\n+                name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+                type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+                args: [this.danmukuList]\r\n+            },],\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+      },\r\n+      \r\n+    }\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711222379779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,125 @@\n+<template>\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n+</template>\r\n+\r\n+<script>\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            categoryList: [],\r\n+            movie: {},//接收影视详情\r\n+            danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }],\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [{\r\n+                name: 'MemoryPlayComponent',\r\n+                type: AliPlayerComponent.MemoryPlayComponent,\r\n+                args: [false, getTime, saveTime]\r\n+            },\r\n+            {\r\n+                name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+                type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+                args: [this.danmukuList]\r\n+            },],\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+      },\r\n+      \r\n+    }\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711222728012,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,8 +66,9 @@\n         // 创建实例\r\n         var player = new Aliplayer({\r\n             id: this.playerId,\r\n             width: '100%',\r\n+            height:let width = document.documentElement.clientWidth\r\n             autoplay: true,\r\n             //支持播放地址播放,此播放优先级最高\r\n             source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n             //播放方式二：点播用户推荐\r\n@@ -121,395 +122,5 @@\n </script>\r\n \r\n <style lang=\"postcss\" scoped>\r\n   @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n-</style>\n-<template>\r\n-  <div>\r\n-      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n-  </div>\r\n-</template>\r\n-\r\n-<script>\r\n-  export default {\r\n-    data() {\r\n-        return {\r\n-            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n-            scriptTagStatus: 0,\r\n-            isReload: false,\r\n-            instance: null,\r\n-            categoryList: [],\r\n-            movie: {},//接收影视详情\r\n-            danmukuList: [{\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 1000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xffffff\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 2000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 30000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }],\r\n-        }\r\n-    },\r\n-    created() {\r\n-        \r\n-    },\r\n-    watch: {\r\n-      // 监听视频Id的变化\r\n-      async videoId(newVal, oldVal) {\r\n-        await this.getPlayAuth; //重新获取playAuth\r\n-        this.init(); // 监听变化初始化\r\n-      },\r\n-    },\r\n-    mounted() {\r\n-      this.init();\r\n-    },\r\n-    methods: {\r\n-      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n-    async getPlayAuth() {\r\n-      // let res = await getAuth(this.videoId);\r\n-      // this.PlayAuth = res.data.data.PlayAuth;\r\n-    },\r\n-    //初始化aliplayer\r\n-    async init() {\r\n-        var This = this;\r\n-        if (This.player) {\r\n-          // 如果已经创建了，就销毁\r\n-          This.player.dispose();\r\n-        }\r\n-        // let res = await getAuth(This.videoId);\r\n-        // This.PlayAuth = res.data.data.PlayAuth;\r\n-        // 创建实例\r\n-        var player = new Aliplayer({\r\n-            id: this.playerId,\r\n-            width: '100%',\r\n-            autoplay: true,\r\n-            //支持播放地址播放,此播放优先级最高\r\n-            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-            //播放方式二：点播用户推荐\r\n-            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-            playauth : '', //必选参数。音视频播放凭证。\r\n-            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-            //播放方式三：仅MPS用户使用\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accId: '',\r\n-            accSecret: '',\r\n-            stsToken: '',\r\n-            domainRegion: '',\r\n-            authInfo: '',\r\n-            //播放方式四：使用STS方式播放\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accessKeyId: '',\r\n-            securityToken: '',\r\n-            accessKeySecret: '',\r\n-            // isLive: true,\r\n-            // getCurrentTime: _this.aaaa\r\n-            // 以下可选设置\r\n-            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-            qualitySort: 'asc', // 清晰度排序\r\n-            mediaType: 'video', // 返回音频还是视频\r\n-            autoplay: false, // 自动播放\r\n-            isLive: false, // 直播\r\n-            rePlay: false, // 循环播放\r\n-            preload: true,   //播放器自动加载\r\n-            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-            components: [{\r\n-                name: 'MemoryPlayComponent',\r\n-                type: AliPlayerComponent.MemoryPlayComponent,\r\n-                args: [false, getTime, saveTime]\r\n-            },\r\n-            {\r\n-                name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-                type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-                args: [this.danmukuList]\r\n-            },],\r\n-\r\n-        },function(player){\r\n-            console.log('播放器创建好了。')\r\n-        });\r\n-        This.player = player;\r\n-      },\r\n-      \r\n-    }\r\n-}\r\n-</script>\r\n-\r\n-<style lang=\"postcss\" scoped>\r\n-  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n-</style>\n-<template>\r\n-  <div>\r\n-      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n-  </div>\r\n-</template>\r\n-\r\n-<script>\r\n-  export default {\r\n-    data() {\r\n-        return {\r\n-            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n-            scriptTagStatus: 0,\r\n-            isReload: false,\r\n-            instance: null,\r\n-            categoryList: [],\r\n-            movie: {},//接收影视详情\r\n-            danmukuList: [{\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 1000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xffffff\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 2000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 30000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }],\r\n-        }\r\n-    },\r\n-    created() {\r\n-        \r\n-    },\r\n-    watch: {\r\n-      // 监听视频Id的变化\r\n-      async videoId(newVal, oldVal) {\r\n-        await this.getPlayAuth; //重新获取playAuth\r\n-        this.init(); // 监听变化初始化\r\n-      },\r\n-    },\r\n-    mounted() {\r\n-      this.init();\r\n-    },\r\n-    methods: {\r\n-      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n-    async getPlayAuth() {\r\n-      // let res = await getAuth(this.videoId);\r\n-      // this.PlayAuth = res.data.data.PlayAuth;\r\n-    },\r\n-    //初始化aliplayer\r\n-    async init() {\r\n-        var This = this;\r\n-        if (This.player) {\r\n-          // 如果已经创建了，就销毁\r\n-          This.player.dispose();\r\n-        }\r\n-        // let res = await getAuth(This.videoId);\r\n-        // This.PlayAuth = res.data.data.PlayAuth;\r\n-        // 创建实例\r\n-        var player = new Aliplayer({\r\n-            id: this.playerId,\r\n-            width: '100%',\r\n-            autoplay: true,\r\n-            //支持播放地址播放,此播放优先级最高\r\n-            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-            //播放方式二：点播用户推荐\r\n-            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-            playauth : '', //必选参数。音视频播放凭证。\r\n-            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-            //播放方式三：仅MPS用户使用\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accId: '',\r\n-            accSecret: '',\r\n-            stsToken: '',\r\n-            domainRegion: '',\r\n-            authInfo: '',\r\n-            //播放方式四：使用STS方式播放\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accessKeyId: '',\r\n-            securityToken: '',\r\n-            accessKeySecret: '',\r\n-            // isLive: true,\r\n-            // getCurrentTime: _this.aaaa\r\n-            // 以下可选设置\r\n-            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-            qualitySort: 'asc', // 清晰度排序\r\n-            mediaType: 'video', // 返回音频还是视频\r\n-            autoplay: false, // 自动播放\r\n-            isLive: false, // 直播\r\n-            rePlay: false, // 循环播放\r\n-            preload: true,   //播放器自动加载\r\n-            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-            components: [{\r\n-              name: 'AliplayerDanmuComponent',\r\n-              // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-              // args: [danmukuList]\r\n-            }]\r\n-            components: [{\r\n-                name: 'MemoryPlayComponent',\r\n-                type: AliPlayerComponent.MemoryPlayComponent,\r\n-                args: [false, getTime, saveTime]\r\n-            },\r\n-            {\r\n-                name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-                type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-                args: [this.danmukuList]\r\n-            },],\r\n-\r\n-        },function(player){\r\n-            console.log('播放器创建好了。')\r\n-        });\r\n-        This.player = player;\r\n-      },\r\n-      \r\n-    }\r\n-}\r\n-</script>\r\n-\r\n-<style lang=\"postcss\" scoped>\r\n-  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n-</style>\n-<template>\r\n-  <div>\r\n-      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n-  </div>\r\n-</template>\r\n-\r\n-<script>\r\n-  export default {\r\n-    data() {\r\n-        return {\r\n-            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n-            scriptTagStatus: 0,\r\n-            isReload: false,\r\n-            instance: null,\r\n-            categoryList: [],\r\n-            movie: {},//接收影视详情\r\n-            danmukuList: [{\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 1000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xffffff\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 2000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"test\",\r\n-              \"stime\": 30000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-            }],\r\n-        }\r\n-    },\r\n-    created() {\r\n-        \r\n-    },\r\n-    watch: {\r\n-      // 监听视频Id的变化\r\n-      async videoId(newVal, oldVal) {\r\n-        await this.getPlayAuth; //重新获取playAuth\r\n-        this.init(); // 监听变化初始化\r\n-      },\r\n-    },\r\n-    mounted() {\r\n-      this.init();\r\n-    },\r\n-    methods: {\r\n-      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n-    async getPlayAuth() {\r\n-      // let res = await getAuth(this.videoId);\r\n-      // this.PlayAuth = res.data.data.PlayAuth;\r\n-    },\r\n-    //初始化aliplayer\r\n-    async init() {\r\n-        var This = this;\r\n-        if (This.player) {\r\n-          // 如果已经创建了，就销毁\r\n-          This.player.dispose();\r\n-        }\r\n-        // let res = await getAuth(This.videoId);\r\n-        // This.PlayAuth = res.data.data.PlayAuth;\r\n-        // 创建实例\r\n-        var player = new Aliplayer({\r\n-            id: this.playerId,\r\n-            width: '100%',\r\n-            autoplay: true,\r\n-            //支持播放地址播放,此播放优先级最高\r\n-            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-            //播放方式二：点播用户推荐\r\n-            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-            playauth : '', //必选参数。音视频播放凭证。\r\n-            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-            //播放方式三：仅MPS用户使用\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accId: '',\r\n-            accSecret: '',\r\n-            stsToken: '',\r\n-            domainRegion: '',\r\n-            authInfo: '',\r\n-            //播放方式四：使用STS方式播放\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accessKeyId: '',\r\n-            securityToken: '',\r\n-            accessKeySecret: '',\r\n-            // isLive: true,\r\n-            // getCurrentTime: _this.aaaa\r\n-            // 以下可选设置\r\n-            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-            qualitySort: 'asc', // 清晰度排序\r\n-            mediaType: 'video', // 返回音频还是视频\r\n-            autoplay: false, // 自动播放\r\n-            isLive: false, // 直播\r\n-            rePlay: false, // 循环播放\r\n-            preload: true,   //播放器自动加载\r\n-            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-            components: [{\r\n-              name: 'AliplayerDanmuComponent',\r\n-              // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-              // args: [danmukuList]\r\n-            }]\r\n-            components: [{\r\n-                            name: 'MemoryPlayComponent',\r\n-                            type: AliPlayerComponent.MemoryPlayComponent,\r\n-                            args: [false, getTime, saveTime]\r\n-                        },\r\n-                        {\r\n-                            name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-                            type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-                            args: [this.danmukuList]\r\n-                        },],\r\n-————————————————\r\n-\r\n-                            版权声明：本文为博主原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接和本声明。\r\n-                        \r\n-原文链接：https://blog.csdn.net/adingyb/article/details/129658726\r\n-\r\n-        },function(player){\r\n-            console.log('播放器创建好了。')\r\n-        });\r\n-        This.player = player;\r\n-      },\r\n-      \r\n-    }\r\n-}\r\n-</script>\r\n-\r\n-<style lang=\"postcss\" scoped>\r\n-  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711222737300,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,9 @@\n         // 创建实例\r\n         var player = new Aliplayer({\r\n             id: this.playerId,\r\n             width: '100%',\r\n-            height:let width = document.documentElement.clientWidth\r\n+            height:document.documentElement.clientWidth,\r\n             autoplay: true,\r\n             //支持播放地址播放,此播放优先级最高\r\n             source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n             //播放方式二：点播用户推荐\r\n"
                },
                {
                    "date": 1711222763524,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,127 @@\n+<template>\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n+</template>\r\n+\r\n+<script>\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            categoryList: [],\r\n+            movie: {},//接收影视详情\r\n+            danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }],\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            height:document.documentElement.clientWidth,\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [\r\n+              {\r\n+                name: 'MemoryPlayComponent',\r\n+                type: AliPlayerComponent.MemoryPlayComponent,\r\n+                args: [false, getTime, saveTime]\r\n+            },\r\n+            {\r\n+                name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+                type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+                args: [this.danmukuList]\r\n+            },],\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+      },\r\n+      \r\n+    }\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711222776051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,126 @@\n+<template>\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n+</template>\r\n+\r\n+<script>\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            categoryList: [],\r\n+            movie: {},//接收影视详情\r\n+            danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"test\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+            }],\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [\r\n+            //   {\r\n+            //     name: 'MemoryPlayComponent',\r\n+            //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+            //     args: [false, getTime, saveTime]\r\n+            // },\r\n+            {\r\n+                name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+                type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+                args: [this.danmukuList]\r\n+            },],\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+      },\r\n+      \r\n+    }\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711222956266,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,12 +105,12 @@\n             //     type: AliPlayerComponent.MemoryPlayComponent,\r\n             //     args: [false, getTime, saveTime]\r\n             // },\r\n             {\r\n-  name: 'StartADComponent',\r\n-  type: AliPlayerComponent.StartADComponent,\r\n-  args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-}\r\n+    name: 'StartADComponent',\r\n+    type: AliPlayerComponent.StartADComponent,\r\n+    args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+  }\r\n             {\r\n                 name: 'AliplayerDanmuComponent', // 弹幕组件\r\n                 type: AliPlayerComponent.AliplayerDanmuComponent,\r\n                 args: [this.danmukuList]\r\n"
                },
                {
                    "date": 1711223007279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,137 @@\n+<template>\r\n+  <div>\r\n+      <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+  </div>\r\n+</template>\r\n+\r\n+<script>\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+            categoryList: [],\r\n+            movie: {},//接收影视详情\r\n+            danmukuList: [{\r\n+                \"mode\": 1,\r\n+                \"text\": \"哈哈\",\r\n+                \"stime\": 1000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xffffff\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"前方高能\",\r\n+                \"stime\": 2000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xff0000\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"灵魂歌手\",\r\n+                \"stime\": 30000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xff0000\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"顺手一划\",\r\n+                \"stime\": 10000,\r\n+                \"size\": 25,\r\n+                \"color\": 0x00c1de\r\n+            }\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [\r\n+            //   {\r\n+            //     name: 'MemoryPlayComponent',\r\n+            //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+            //     args: [false, getTime, saveTime]\r\n+            // },\r\n+            {\r\n+              name: 'StartADComponent',\r\n+              type: AliPlayerComponent.StartADComponent,\r\n+              args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+            },\r\n+            {\r\n+                name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+                type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+                args: [this.danmukuList]\r\n+            },],\r\n+\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+      },\r\n+      \r\n+    }\r\n+}\r\n+</script>\r\n+\r\n+<style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                }
            ],
            "date": 1711099964713,
            "name": "Commit-0",
            "content": "<template>\r\n    <div>\r\n        <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n    export default {\r\n      data() {\r\n          return {\r\n              playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n              scriptTagStatus: 0,\r\n              isReload: false,\r\n              instance: null,\r\n              danmukuList: [{\r\n                \"mode\": 1,\r\n                \"text\": \"test\",\r\n                \"stime\": 1000,\r\n                \"size\": 25,\r\n                \"color\": 0xffffff\r\n              }, {\r\n                \"mode\": 1,\r\n                \"text\": \"test\",\r\n                \"stime\": 2000,\r\n                \"size\": 25,\r\n                \"color\": 0xff0000\r\n              }, {\r\n                \"mode\": 1,\r\n                \"text\": \"test\",\r\n                \"stime\": 30000,\r\n                \"size\": 25,\r\n                \"color\": 0xff0000\r\n              }],\r\n          }\r\n      },\r\n      created() {\r\n          \r\n      },\r\n      watch: {\r\n        // 监听视频Id的变化\r\n        async videoId(newVal, oldVal) {\r\n          await this.getPlayAuth; //重新获取playAuth\r\n          this.init(); // 监听变化初始化\r\n        },\r\n      },\r\n      mounted() {\r\n        this.init();\r\n      },\r\n      methods: {\r\n        //从后端获取playAuth(视频播放凭证，根据videoId)\r\n      async getPlayAuth() {\r\n        // let res = await getAuth(this.videoId);\r\n        // this.PlayAuth = res.data.data.PlayAuth;\r\n      },\r\n      //初始化aliplayer\r\n      async init() {\r\n          var This = this;\r\n          if (This.player) {\r\n            // 如果已经创建了，就销毁\r\n            This.player.dispose();\r\n          }\r\n          // let res = await getAuth(This.videoId);\r\n          // This.PlayAuth = res.data.data.PlayAuth;\r\n          // 创建实例\r\n          var player = new Aliplayer({\r\n              id: this.playerId,\r\n              width: '100%',\r\n              autoplay: true,\r\n              //支持播放地址播放,此播放优先级最高\r\n              source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n              //播放方式二：点播用户推荐\r\n              vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n              playauth : '', //必选参数。音视频播放凭证。\r\n              cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n              //播放方式三：仅MPS用户使用\r\n              vid : '1e067a2831b641db90d570b6480fbc40',\r\n              accId: '',\r\n              accSecret: '',\r\n              stsToken: '',\r\n              domainRegion: '',\r\n              authInfo: '',\r\n              //播放方式四：使用STS方式播放\r\n              vid : '1e067a2831b641db90d570b6480fbc40',\r\n              accessKeyId: '',\r\n              securityToken: '',\r\n              accessKeySecret: '',\r\n              // isLive: true,\r\n              // getCurrentTime: _this.aaaa\r\n              // 以下可选设置\r\n              cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n              qualitySort: 'asc', // 清晰度排序\r\n              mediaType: 'video', // 返回音频还是视频\r\n              autoplay: false, // 自动播放\r\n              isLive: false, // 直播\r\n              rePlay: false, // 循环播放\r\n              preload: true,\r\n              controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n              controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n              showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n              components: [{\r\n                name: 'AliplayerDanmuComponent',\r\n                // type: AliPlayerComponent.AliplayerDanmuComponent,\r\n                // args: [danmukuList]\r\n              }]\r\n  \r\n          },function(player){\r\n              console.log('播放器创建好了。')\r\n          });\r\n          This.player = player;\r\n        },\r\n        \r\n      }\r\n  }\r\n  </script>\r\n  \r\n  <style lang=\"postcss\" scoped>\r\n    @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n  </style>"
        }
    ]
}