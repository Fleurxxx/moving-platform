{
    "sourceFile": "src/component/Comment.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 21,
            "patches": [
                {
                    "date": 1710469470006,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1710469743645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,161 +1,229 @@\n <template>\r\n-    <div class=\"comment-view\" style=\"padding: 0px\">\r\n-      <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\">\r\n-        <!-- <template #list-title>全部评论</template> -->\r\n-      </u-comment>\r\n-    </div>\r\n+    <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\" @mention-search=\"mentionSearchFn\" relative-time>\r\n+      <!-- <div>导航栏卡槽</div> -->\r\n+      <!-- <template #header>头部卡槽</template> -->\r\n+      <!-- <template #info>用户信息卡槽</template> -->\r\n+      <!-- <template #card>用户信息卡片卡槽</template> -->\r\n+      <!-- <template #opearte>操作栏卡槽</template> -->\r\n+      <!-- <template #func>功能区域卡槽</template> -->\r\n+    </u-comment>\r\n   </template>\r\n   \r\n   <script setup lang=\"ts\">\r\n+  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n+  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n+  import emoji from './emoji'\r\n   import { reactive } from 'vue'\r\n-  import { UToast, CommentApi, CommentSubmitParam, ConfigApi } from 'undraw-ui'\r\n-  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases\r\n-  // static文件放在public下,引入emoji.ts文件可以移动到自定义位置\r\n-  import emoji from './emoji'\r\n+  import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n   \r\n   const config = reactive<ConfigApi>({\r\n     user: {\r\n       id: 1,\r\n-      username: 'user',\r\n+      username: 'jack',\r\n       avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-      // 评论id数组 建议:存储方式用户id和文章id和评论id组成关系,根据用户id和文章id来获取对应点赞评论id,然后加入到数组中返回\r\n-      likes: [1, 2, 11]\r\n+      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n+      likeIds: [1, 2, 3]\r\n     },\r\n     emoji: emoji,\r\n-    comments: []\r\n+    comments: [],\r\n+    // aTarget: '_self',\r\n+    // showForm: false,\r\n+    // showContent: false,\r\n+    total: 10,\r\n+    mentionConfig: {\r\n+      userArr: [\r\n+        {\r\n+          userId: 1,\r\n+          userName: '张三',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/cba6c7af94997ba172c32bbe668794553f29e91ef26f-qnroJ7_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 2,\r\n+          userName: '李四',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/d01263d11d07748a2193bbbdd3b9a0c8a4b062b9f39d-PKvV2t_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 3,\r\n+          userName: '王五',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/69d92bfbf36fc111e1f563403311e7943628c9fc108bf-6l34Pa_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 4,\r\n+          userName: '赵六',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/7f5c54a455f61f431ec1f7b7c0e583f4a725fb73adba-5DgU3q_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 5,\r\n+          userName: '孙七',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/edea85f44f3f8bce8d094ed78f390164a9eba229cb2e-1Lc22F_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 6,\r\n+          userName: '周八',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/c1b2131c6977e01a430d6575ba678a4afeabcad222605-UJUwwb_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 7,\r\n+          userName: '吴九',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/4942e77078bda39a458980049b528236bf79183814998-zVzEJv_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 8,\r\n+          userName: '郑十',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/628236086a2ca12d2074bdd29f496f38a4d0c06ae50f-Rj3vsO_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 9,\r\n+          userName: '王富贵',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/0108a6b65d211d3bc602bc0431e84b31f9e62ac08015f-JifENm_fw240webp'\r\n+        },\r\n+        {\r\n+          userId: 10,\r\n+          userName: '赵富贵',\r\n+          userAvatar: 'https://gd-hbimg.huaban.com/d9643d6181d506ccc159a940e11bdc6b9a2b53ae57139-pxAnk9_fw240webp'\r\n+        }\r\n+      ],\r\n+      userIdKey: 'userId',\r\n+      userNameKey: 'userName',\r\n+      userAvatarKey: 'userAvatar',\r\n+      show: true,\r\n+      mentionColor: '#1e80ff'\r\n+    }\r\n   })\r\n   \r\n+  let temp_id = 100\r\n   // 提交评论事件\r\n-  const submit = ({ clear, content, parentId }: CommentSubmitParam) => {\r\n-    console.log(content, parentId)\r\n-    UToast({ message: '评论成功!', type: 'info' })\r\n-    // 提交评论 --后端接口处理\r\n-    editSubmit(content, parentId as number)\r\n-    clear()\r\n-  }\r\n+  const submit = ({ content, parentId, files, finish, reply, mentionList }: SubmitParamApi) => {\r\n+    let str =\r\n+      '提交评论:' +\r\n+      content +\r\n+      ';\\t父id: ' +\r\n+      parentId +\r\n+      ';\\t图片:' +\r\n+      files +\r\n+      ';\\t被回复评论:' +\r\n+      reply +\r\n+      ';\\t提及列表:' +\r\n+      JSON.stringify(mentionList)\r\n+    console.log(str, reply)\r\n   \r\n-  // 点赞按钮事件\r\n-  const like = (id: number) => {\r\n-    const likes = config.user.likes\r\n-    if (likes.indexOf(id) == -1) {\r\n-      // 点赞 --后端接口处理\r\n-      likes.push(id)\r\n-      editLike(id, 1)\r\n-    } else {\r\n-      // 取消点赞 --后端接口\r\n-      likes.splice(\r\n-        likes.findIndex(item => item == id),\r\n-        1\r\n-      )\r\n-      editLike(id, -1)\r\n-    }\r\n-  }\r\n+    /**\r\n+     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n+     */\r\n+    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n   \r\n-  // 模拟后端处理\r\n-  const editLike = (id: number, count: number) => {\r\n-    let tar = null\r\n-    config.comments.forEach(v => {\r\n-      if (v.id != id) {\r\n-        tar = v.reply?.list.find(v => v.id == id)\r\n-      } else {\r\n-        tar = v\r\n-      }\r\n-      if (tar) {\r\n-        tar.like += count\r\n-      }\r\n-    })\r\n-  }\r\n-  \r\n-  let temp_id = 100\r\n-  // 模拟后端处理\r\n-  const editSubmit = (content: string, parentId: number) => {\r\n-    let comment: CommentApi = {\r\n-      id: (temp_id += 1),\r\n+    temp_id += 1\r\n+    const comment: CommentApi = {\r\n+      id: String(temp_id),\r\n       parentId: parentId,\r\n-      avatar: config.user.avatar,\r\n-      username: config.user.username,\r\n-      level: 6,\r\n-      link: `/${(temp_id += 1)}`,\r\n+      uid: config.user.id,\r\n       address: '来自江苏',\r\n       content: content,\r\n-      like: 0,\r\n-      createTime: '1分钟前',\r\n+      likes: 0,\r\n+      createTime: dayjs().subtract(5, 'seconds').toString(),\r\n+      contentImg: contentImg,\r\n+      user: {\r\n+        username: config.user.username,\r\n+        avatar: config.user.avatar,\r\n+        level: 6,\r\n+        homeLink: `/${temp_id}`\r\n+      },\r\n       reply: null\r\n     }\r\n-    if (parentId == undefined) {\r\n-      config.comments.push(comment)\r\n-    } else {\r\n-      let raw_comment = config.comments.find(v => v.id == parentId)\r\n-      let reply = raw_comment?.reply\r\n-      if (reply) {\r\n-        reply.list.push(comment)\r\n-      } else if (raw_comment) {\r\n-        raw_comment.reply = { total: 1, list: [comment] }\r\n-      } else {\r\n-        config.comments.push(comment)\r\n-      }\r\n-    }\r\n+    setTimeout(() => {\r\n+      finish(comment)\r\n+      UToast({ message: '评论成功!', type: 'info' })\r\n+    }, 200)\r\n   }\r\n+  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n+  const like = (id: string, finish: () => void) => {\r\n+    console.log('点赞: ' + id)\r\n+    setTimeout(() => {\r\n+      finish()\r\n+    }, 200)\r\n+  }\r\n   \r\n   config.comments = [\r\n     {\r\n-      id: 1,\r\n+      id: '1',\r\n       parentId: null,\r\n-      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-      username: '落🤍尘',\r\n-      level: 6,\r\n-      link: '/1',\r\n+      uid: '1',\r\n       address: '来自上海',\r\n       content:\r\n         '缘生缘灭，缘起缘落，我在看别人的故事，别人何尝不是在看我的故事?别人在演绎人生，我又何尝不是在这场戏里?谁的眼神沧桑了谁?我的眼神，只是沧桑了自己[喝酒]',\r\n-      like: 2,\r\n-      createTime: '1分钟前',\r\n-      reply: null\r\n+      likes: 2,\r\n+      contentImg: 'https://gitee.com/undraw/undraw-ui/raw/master/public/docs/normal.webp',\r\n+      createTime: dayjs().subtract(10, 'minute').toString(),\r\n+      user: {\r\n+        username: '落🤍尘',\r\n+        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+        level: 6,\r\n+        homeLink: '/1'\r\n+      }\r\n+    }\r\n+  ]\r\n+  \r\n+  const baseUserArr = [\r\n+    {\r\n+      userId: 1,\r\n+      userName: '张三',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/cba6c7af94997ba172c32bbe668794553f29e91ef26f-qnroJ7_fw240webp'\r\n     },\r\n     {\r\n-      id: 3,\r\n-      parentId: null,\r\n-      username: '悟二空',\r\n-      avatar: 'https://static.juzicon.com/user/avatar-bf22291e-ea5c-4280-850d-88bc288fcf5d-220408002256-ZBQQ.jpeg',\r\n-      level: 1,\r\n-      link: '/3',\r\n-      address: '来自苏州',\r\n-      content: '知道在学校为什么感觉这么困吗？因为学校，是梦开始的地方。[脱单doge]',\r\n-      like: 11,\r\n-      createTime: '1天前',\r\n-      reply: {\r\n-        total: 2,\r\n-        list: [\r\n-          {\r\n-            id: 14,\r\n-            parentId: 3,\r\n-            avatar:\r\n-              'https://static.juzicon.com/user/avatar-8b6206c1-b28f-4636-8952-d8d9edec975d-191001105631-MDTM.jpg?x-oss-process=image/resize,m_fill,w_100,h_100',\r\n-            username: '别扰我清梦*ぁ',\r\n-            level: 5,\r\n-            link: '/14',\r\n-            address: '来自重庆',\r\n-            content: '说的对，所以，综上所述，上课睡觉不怪我呀💤',\r\n-            like: 3,\r\n-            createTime: '1分钟前'\r\n-          },\r\n-          {\r\n-            id: 15,\r\n-            avatar:\r\n-              'https://static.juzicon.com/user/avatar-3cb86a0c-08e7-4305-9ac6-34e0cf4937cc-180320123405-BCV6.jpg?x-oss-process=image/resize,m_fill,w_100,h_100',\r\n-            parentId: 3,\r\n-            username: 'Blizzard',\r\n-            level: 4,\r\n-            link: '/15',\r\n-            content: '回复 <span style=\"color: blue;\"\">@别扰我清梦*ぁ:</span> 看完打了一个哈切。。。会传染。。。[委屈]',\r\n-            address: '来自广州',\r\n-            like: 9,\r\n-            createTime: '7天前'\r\n-          }\r\n-        ]\r\n-      }\r\n+      userId: 2,\r\n+      userName: '李四',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/d01263d11d07748a2193bbbdd3b9a0c8a4b062b9f39d-PKvV2t_fw240webp'\r\n+    },\r\n+    {\r\n+      userId: 3,\r\n+      userName: '王五',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/69d92bfbf36fc111e1f563403311e7943628c9fc108bf-6l34Pa_fw240webp'\r\n+    },\r\n+    {\r\n+      userId: 4,\r\n+      userName: '赵六',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/7f5c54a455f61f431ec1f7b7c0e583f4a725fb73adba-5DgU3q_fw240webp'\r\n+    },\r\n+    {\r\n+      userId: 5,\r\n+      userName: '孙七',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/edea85f44f3f8bce8d094ed78f390164a9eba229cb2e-1Lc22F_fw240webp'\r\n+    },\r\n+    {\r\n+      userId: 6,\r\n+      userName: '周八',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/c1b2131c6977e01a430d6575ba678a4afeabcad222605-UJUwwb_fw240webp'\r\n+    },\r\n+    {\r\n+      userId: 7,\r\n+      userName: '吴九',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/4942e77078bda39a458980049b528236bf79183814998-zVzEJv_fw240webp'\r\n+    },\r\n+    {\r\n+      userId: 8,\r\n+      userName: '郑十',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/628236086a2ca12d2074bdd29f496f38a4d0c06ae50f-Rj3vsO_fw240webp'\r\n+    },\r\n+    {\r\n+      userId: 9,\r\n+      userName: '王富贵',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/0108a6b65d211d3bc602bc0431e84b31f9e62ac08015f-JifENm_fw240webp'\r\n+    },\r\n+    {\r\n+      userId: 10,\r\n+      userName: '赵富贵',\r\n+      userAvatar: 'https://gd-hbimg.huaban.com/d9643d6181d506ccc159a940e11bdc6b9a2b53ae57139-pxAnk9_fw240webp'\r\n     }\r\n   ]\r\n+  \r\n+  const mentionSearchFn = (keyword: string) => {\r\n+    if (!keyword) {\r\n+      config.mentionConfig.userArr = baseUserArr\r\n+      return\r\n+    }\r\n+    config.mentionConfig.userArr = baseUserArr.filter(e => {\r\n+      return e.userName.includes(keyword)\r\n+    })\r\n+  }\r\n   </script>\r\n-  \r\n   \n\\ No newline at end of file\n"
                },
                {
                    "date": 1710470059003,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   \r\n   <script setup lang=\"ts\">\r\n   // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n   // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  import emoji from './emoji'\r\n+  import emoji from '@/'\r\n   import { reactive } from 'vue'\r\n   import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n   \r\n   const config = reactive<ConfigApi>({\r\n"
                },
                {
                    "date": 1710470066557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   \r\n   <script setup lang=\"ts\">\r\n   // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n   // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  import emoji from '@/'\r\n+  import emoji from '@/utils/emoji'\r\n   import { reactive } from 'vue'\r\n   import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n   \r\n   const config = reactive<ConfigApi>({\r\n"
                },
                {
                    "date": 1710470309972,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   \r\n   <script setup lang=\"ts\">\r\n   // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n   // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  import emoji from '@/utils/emoji'\r\n+  \r\n   import { reactive } from 'vue'\r\n   import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n   \r\n   const config = reactive<ConfigApi>({\r\n"
                },
                {
                    "date": 1710470322485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,100 @@\n+<template>\r\n+    <u-comment-scroll :disable=\"disable\" @more=\"more\">\r\n+      <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\">\r\n+        <!-- <div>导航栏卡槽</div> -->\r\n+        <!-- <template #header>头部卡槽</template> -->\r\n+        <!-- <template #info>用户信息卡槽</template> -->\r\n+        <!-- <template #card>用户信息卡片卡槽</template> -->\r\n+        <!-- <template #opearte>操作栏卡槽</template> -->\r\n+        <!-- <template #func>功能区域卡槽</template> -->\r\n+      </u-comment>\r\n+    </u-comment-scroll>\r\n+  </template>\r\n+  \r\n+  <script setup lang=\"ts\">\r\n+  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n+  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n+  import emoji from './emoji'\r\n+  import { reactive, ref } from 'vue'\r\n+  import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL } from 'undraw-ui'\r\n+  import { commentSize, getComment } from './comment'\r\n+  \r\n+  const config = reactive<ConfigApi>({\r\n+    user: {\r\n+      id: 1,\r\n+      username: 'jack',\r\n+      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n+      likeIds: [1, 2, 3]\r\n+    },\r\n+    emoji: emoji,\r\n+    comments: [],\r\n+    total: 10\r\n+  })\r\n+  \r\n+  // 初始化评论列表\r\n+  config.comments = getComment(1, 1)\r\n+  \r\n+  // 是否禁用滚动加载评论\r\n+  const disable = ref(false)\r\n+  \r\n+  // 当前页数\r\n+  let pageNum = 2\r\n+  // 页大小\r\n+  let pageSize = 1\r\n+  // 评论总数量\r\n+  let total = commentSize\r\n+  // 加载更多评论\r\n+  const more = () => {\r\n+    console.log(disable.value)\r\n+    if (pageNum <= Math.ceil(total / pageSize)) {\r\n+      setTimeout(() => {\r\n+        config.comments.push(...getComment(pageNum, 1))\r\n+        pageNum++\r\n+      }, 200)\r\n+    } else {\r\n+      disable.value = true\r\n+    }\r\n+  }\r\n+  \r\n+  let temp_id = 100\r\n+  // 提交评论事件\r\n+  const submit = ({ content, parentId, files, finish }: SubmitParamApi) => {\r\n+    console.log('提交评论: ' + content, parentId, files)\r\n+  \r\n+    /**\r\n+     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n+     */\r\n+    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n+    temp_id += 1\r\n+    const comment: CommentApi = {\r\n+      id: String(temp_id),\r\n+      parentId: parentId,\r\n+      uid: config.user.id,\r\n+      address: '来自江苏',\r\n+      content: content,\r\n+      likes: 0,\r\n+      createTime: '2023-05-05 06:00:00',\r\n+      contentImg: contentImg,\r\n+      user: {\r\n+        username: config.user.username,\r\n+        avatar: config.user.avatar,\r\n+        level: 6,\r\n+        homeLink: `/${temp_id}`\r\n+      },\r\n+      reply: null\r\n+    }\r\n+    setTimeout(() => {\r\n+      finish(comment)\r\n+      UToast({ message: '评论成功!', type: 'info' })\r\n+    }, 200)\r\n+  }\r\n+  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n+  const like = (id: string, finish: () => void) => {\r\n+    console.log('点赞: ' + id)\r\n+    setTimeout(() => {\r\n+      finish()\r\n+    }, 200)\r\n+  }\r\n+  </script>\r\n+  \n\\ No newline at end of file\n"
                },
                {
                    "date": 1710470336167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,100 @@\n+<template>\r\n+    <u-comment-scroll :disable=\"disable\" @more=\"more\">\r\n+      <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\">\r\n+        <!-- <div>导航栏卡槽</div> -->\r\n+        <!-- <template #header>头部卡槽</template> -->\r\n+        <!-- <template #info>用户信息卡槽</template> -->\r\n+        <!-- <template #card>用户信息卡片卡槽</template> -->\r\n+        <!-- <template #opearte>操作栏卡槽</template> -->\r\n+        <!-- <template #func>功能区域卡槽</template> -->\r\n+      </u-comment>\r\n+    </u-comment-scroll>\r\n+  </template>\r\n+  \r\n+  <script setup lang=\"ts\">\r\n+  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n+  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n+  import emoji from '@/utils/emoji'\r\n+  import { reactive, ref } from 'vue'\r\n+  import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL } from 'undraw-ui'\r\n+  import { commentSize, getComment } from './comment'\r\n+  \r\n+  const config = reactive<ConfigApi>({\r\n+    user: {\r\n+      id: 1,\r\n+      username: 'jack',\r\n+      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n+      likeIds: [1, 2, 3]\r\n+    },\r\n+    emoji: emoji,\r\n+    comments: [],\r\n+    total: 10\r\n+  })\r\n+  \r\n+  // 初始化评论列表\r\n+  config.comments = getComment(1, 1)\r\n+  \r\n+  // 是否禁用滚动加载评论\r\n+  const disable = ref(false)\r\n+  \r\n+  // 当前页数\r\n+  let pageNum = 2\r\n+  // 页大小\r\n+  let pageSize = 1\r\n+  // 评论总数量\r\n+  let total = commentSize\r\n+  // 加载更多评论\r\n+  const more = () => {\r\n+    console.log(disable.value)\r\n+    if (pageNum <= Math.ceil(total / pageSize)) {\r\n+      setTimeout(() => {\r\n+        config.comments.push(...getComment(pageNum, 1))\r\n+        pageNum++\r\n+      }, 200)\r\n+    } else {\r\n+      disable.value = true\r\n+    }\r\n+  }\r\n+  \r\n+  let temp_id = 100\r\n+  // 提交评论事件\r\n+  const submit = ({ content, parentId, files, finish }: SubmitParamApi) => {\r\n+    console.log('提交评论: ' + content, parentId, files)\r\n+  \r\n+    /**\r\n+     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n+     */\r\n+    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n+    temp_id += 1\r\n+    const comment: CommentApi = {\r\n+      id: String(temp_id),\r\n+      parentId: parentId,\r\n+      uid: config.user.id,\r\n+      address: '来自江苏',\r\n+      content: content,\r\n+      likes: 0,\r\n+      createTime: '2023-05-05 06:00:00',\r\n+      contentImg: contentImg,\r\n+      user: {\r\n+        username: config.user.username,\r\n+        avatar: config.user.avatar,\r\n+        level: 6,\r\n+        homeLink: `/${temp_id}`\r\n+      },\r\n+      reply: null\r\n+    }\r\n+    setTimeout(() => {\r\n+      finish(comment)\r\n+      UToast({ message: '评论成功!', type: 'info' })\r\n+    }, 200)\r\n+  }\r\n+  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n+  const like = (id: string, finish: () => void) => {\r\n+    console.log('点赞: ' + id)\r\n+    setTimeout(() => {\r\n+      finish()\r\n+    }, 200)\r\n+  }\r\n+  </script>\r\n+  \n\\ No newline at end of file\n"
                },
                {
                    "date": 1710470597610,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,429 +1,70 @@\n <template>\r\n-    <u-comment-scroll :disable=\"disable\" @more=\"more\">\r\n-      <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\">\r\n-        <!-- <div>导航栏卡槽</div> -->\r\n-        <!-- <template #header>头部卡槽</template> -->\r\n-        <!-- <template #info>用户信息卡槽</template> -->\r\n-        <!-- <template #card>用户信息卡片卡槽</template> -->\r\n-        <!-- <template #opearte>操作栏卡槽</template> -->\r\n-        <!-- <template #func>功能区域卡槽</template> -->\r\n-      </u-comment>\r\n-    </u-comment-scroll>\r\n+    <el-dropdown trigger=\"click\" @command=\"onCommand\">\r\n+      <div class=\"operation-warp\">\r\n+          <u-icon>\r\n+            <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n+              <path\r\n+                d=\"M586.624 234.624a74.624 74.624 0 1 1-149.184 0 74.624 74.624 0 0 1 149.12 0z m0 554.624a74.624 74.624 0 1 1-149.248 0 74.624 74.624 0 0 1 149.248 0zM512 586.624a74.624 74.624 0 1 0 0-149.248 74.624 74.624 0 0 0 0 149.248z\"\r\n+                fill=\"currentColor\"\r\n+              ></path>\r\n+            </svg>\r\n+          </u-icon>\r\n+        </div>\r\n+      <template #dropdown>\r\n+        <el-dropdown-menu>\r\n+          <el-dropdown-item command=\"report\">举报</el-dropdown-item>\r\n+          <el-dropdown-item command=\"remove\">删除</el-dropdown-item>\r\n+          <el-dropdown-item divided command=\"copy\">复制</el-dropdown-item>\r\n+        </el-dropdown-menu>\r\n+      </template>\r\n+    </el-dropdown>\r\n   </template>\r\n-  \r\n   <script setup lang=\"ts\">\r\n-  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n-  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  import emoji from '@/utils/emoji'\r\n-  import { reactive, ref } from 'vue'\r\n-  import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL } from 'undraw-ui'\r\n-  import { commentSize, getComment } from './comment'\r\n+  import { useClipboard } from '@vueuse/core'\r\n+  import { CommentApi, ElDropdown, ElDropdownItem, ElDropdownMenu, UToast} from 'undraw-ui'\r\n   \r\n-  const config = reactive<ConfigApi>({\r\n-    user: {\r\n-      id: 1,\r\n-      username: 'jack',\r\n-      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n-      likeIds: [1, 2, 3]\r\n-    },\r\n-    emoji: emoji,\r\n-    comments: [],\r\n-    total: 10\r\n-  })\r\n-  \r\n-  // 初始化评论列表\r\n-  config.comments = getComment(1, 1)\r\n-  \r\n-  // 是否禁用滚动加载评论\r\n-  const disable = ref(false)\r\n-  \r\n-  // 当前页数\r\n-  let pageNum = 2\r\n-  // 页大小\r\n-  let pageSize = 1\r\n-  // 评论总数量\r\n-  let total = commentSize\r\n-  // 加载更多评论\r\n-  const more = () => {\r\n-    console.log(disable.value)\r\n-    if (pageNum <= Math.ceil(total / pageSize)) {\r\n-      setTimeout(() => {\r\n-        config.comments.push(...getComment(pageNum, 1))\r\n-        pageNum++\r\n-      }, 200)\r\n-    } else {\r\n-      disable.value = true\r\n-    }\r\n+  interface Props {\r\n+    comment: CommentApi\r\n   }\r\n   \r\n-  let temp_id = 100\r\n-  // 提交评论事件\r\n-  const submit = ({ content, parentId, files, finish }: SubmitParamApi) => {\r\n-    console.log('提交评论: ' + content, parentId, files)\r\n+  const props = defineProps<Props>()\r\n   \r\n-    /**\r\n-     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n-     */\r\n-    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n-    temp_id += 1\r\n-    const comment: CommentApi = {\r\n-      id: String(temp_id),\r\n-      parentId: parentId,\r\n-      uid: config.user.id,\r\n-      address: '来自江苏',\r\n-      content: content,\r\n-      likes: 0,\r\n-      createTime: '2023-05-05 06:00:00',\r\n-      contentImg: contentImg,\r\n-      user: {\r\n-        username: config.user.username,\r\n-        avatar: config.user.avatar,\r\n-        level: 6,\r\n-        homeLink: `/${temp_id}`\r\n-      },\r\n-      reply: null\r\n-    }\r\n-    setTimeout(() => {\r\n-      finish(comment)\r\n-      UToast({ message: '评论成功!', type: 'info' })\r\n-    }, 200)\r\n-  }\r\n-  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n-  const like = (id: string, finish: () => void) => {\r\n-    console.log('点赞: ' + id)\r\n-    setTimeout(() => {\r\n-      finish()\r\n-    }, 200)\r\n-  }\r\n-  </script>\r\n-  \n-<template>\r\n-    <u-comment-scroll :disable=\"disable\" @more=\"more\">\r\n-      <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\">\r\n-        <!-- <div>导航栏卡槽</div> -->\r\n-        <!-- <template #header>头部卡槽</template> -->\r\n-        <!-- <template #info>用户信息卡槽</template> -->\r\n-        <!-- <template #card>用户信息卡片卡槽</template> -->\r\n-        <!-- <template #opearte>操作栏卡槽</template> -->\r\n-        <!-- <template #func>功能区域卡槽</template> -->\r\n-      </u-comment>\r\n-    </u-comment-scroll>\r\n-  </template>\r\n+  const emit = defineEmits<{\r\n+    (e: 'remove', comment: CommentApi): void\r\n+  }>()\r\n   \r\n-  <script setup lang=\"ts\">\r\n-  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n-  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  import emoji from './emoji'\r\n-  import { reactive, ref } from 'vue'\r\n-  import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL } from 'undraw-ui'\r\n-  import { commentSize, getComment } from './comment'\r\n+  const { copy } = useClipboard()\r\n   \r\n-  const config = reactive<ConfigApi>({\r\n-    user: {\r\n-      id: 1,\r\n-      username: 'jack',\r\n-      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n-      likeIds: [1, 2, 3]\r\n-    },\r\n-    emoji: emoji,\r\n-    comments: [],\r\n-    total: 10\r\n-  })\r\n-  \r\n-  // 初始化评论列表\r\n-  config.comments = getComment(1, 1)\r\n-  \r\n-  // 是否禁用滚动加载评论\r\n-  const disable = ref(false)\r\n-  \r\n-  // 当前页数\r\n-  let pageNum = 2\r\n-  // 页大小\r\n-  let pageSize = 1\r\n-  // 评论总数量\r\n-  let total = commentSize\r\n-  // 加载更多评论\r\n-  const more = () => {\r\n-    console.log(disable.value)\r\n-    if (pageNum <= Math.ceil(total / pageSize)) {\r\n-      setTimeout(() => {\r\n-        config.comments.push(...getComment(pageNum, 1))\r\n-        pageNum++\r\n-      }, 200)\r\n-    } else {\r\n-      disable.value = true\r\n+  const onCommand = (command: any) => {\r\n+    switch(command) {\r\n+      case 'remove':\r\n+        emit('remove', props.comment)\r\n+        break\r\n+      case 'report':\r\n+        UToast({type: 'info', message: '举报成功: ' + props.comment.id})\r\n+        break\r\n+      case 'copy':\r\n+        copy(props.comment.content)\r\n+        UToast({type: 'info', message: '复制成功'})\r\n     }\r\n   }\r\n   \r\n-  let temp_id = 100\r\n-  // 提交评论事件\r\n-  const submit = ({ content, parentId, files, finish }: SubmitParamApi) => {\r\n-    console.log('提交评论: ' + content, parentId, files)\r\n-  \r\n-    /**\r\n-     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n-     */\r\n-    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n-    temp_id += 1\r\n-    const comment: CommentApi = {\r\n-      id: String(temp_id),\r\n-      parentId: parentId,\r\n-      uid: config.user.id,\r\n-      address: '来自江苏',\r\n-      content: content,\r\n-      likes: 0,\r\n-      createTime: '2023-05-05 06:00:00',\r\n-      contentImg: contentImg,\r\n-      user: {\r\n-        username: config.user.username,\r\n-        avatar: config.user.avatar,\r\n-        level: 6,\r\n-        homeLink: `/${temp_id}`\r\n-      },\r\n-      reply: null\r\n-    }\r\n-    setTimeout(() => {\r\n-      finish(comment)\r\n-      UToast({ message: '评论成功!', type: 'info' })\r\n-    }, 200)\r\n-  }\r\n-  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n-  const like = (id: string, finish: () => void) => {\r\n-    console.log('点赞: ' + id)\r\n-    setTimeout(() => {\r\n-      finish()\r\n-    }, 200)\r\n-  }\r\n   </script>\r\n-  \n-<template>\r\n-    <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\" @mention-search=\"mentionSearchFn\" relative-time>\r\n-      <!-- <div>导航栏卡槽</div> -->\r\n-      <!-- <template #header>头部卡槽</template> -->\r\n-      <!-- <template #info>用户信息卡槽</template> -->\r\n-      <!-- <template #card>用户信息卡片卡槽</template> -->\r\n-      <!-- <template #opearte>操作栏卡槽</template> -->\r\n-      <!-- <template #func>功能区域卡槽</template> -->\r\n-    </u-comment>\r\n-  </template>\r\n   \r\n-  <script setup lang=\"ts\">\r\n-  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n-  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  \r\n-  import { reactive } from 'vue'\r\n-  import { CommentApi, ConfigApi, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n-  \r\n-  const config = reactive<ConfigApi>({\r\n-    user: {\r\n-      id: 1,\r\n-      username: 'jack',\r\n-      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n-      likeIds: [1, 2, 3]\r\n-    },\r\n-    emoji: emoji,\r\n-    comments: [],\r\n-    // aTarget: '_self',\r\n-    // showForm: false,\r\n-    // showContent: false,\r\n-    total: 10,\r\n-    mentionConfig: {\r\n-      userArr: [\r\n-        {\r\n-          userId: 1,\r\n-          userName: '张三',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/cba6c7af94997ba172c32bbe668794553f29e91ef26f-qnroJ7_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 2,\r\n-          userName: '李四',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/d01263d11d07748a2193bbbdd3b9a0c8a4b062b9f39d-PKvV2t_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 3,\r\n-          userName: '王五',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/69d92bfbf36fc111e1f563403311e7943628c9fc108bf-6l34Pa_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 4,\r\n-          userName: '赵六',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/7f5c54a455f61f431ec1f7b7c0e583f4a725fb73adba-5DgU3q_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 5,\r\n-          userName: '孙七',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/edea85f44f3f8bce8d094ed78f390164a9eba229cb2e-1Lc22F_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 6,\r\n-          userName: '周八',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/c1b2131c6977e01a430d6575ba678a4afeabcad222605-UJUwwb_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 7,\r\n-          userName: '吴九',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/4942e77078bda39a458980049b528236bf79183814998-zVzEJv_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 8,\r\n-          userName: '郑十',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/628236086a2ca12d2074bdd29f496f38a4d0c06ae50f-Rj3vsO_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 9,\r\n-          userName: '王富贵',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/0108a6b65d211d3bc602bc0431e84b31f9e62ac08015f-JifENm_fw240webp'\r\n-        },\r\n-        {\r\n-          userId: 10,\r\n-          userName: '赵富贵',\r\n-          userAvatar: 'https://gd-hbimg.huaban.com/d9643d6181d506ccc159a940e11bdc6b9a2b53ae57139-pxAnk9_fw240webp'\r\n-        }\r\n-      ],\r\n-      userIdKey: 'userId',\r\n-      userNameKey: 'userName',\r\n-      userAvatarKey: 'userAvatar',\r\n-      show: true,\r\n-      mentionColor: '#1e80ff'\r\n-    }\r\n-  })\r\n-  \r\n-  let temp_id = 100\r\n-  // 提交评论事件\r\n-  const submit = ({ content, parentId, files, finish, reply, mentionList }: SubmitParamApi) => {\r\n-    let str =\r\n-      '提交评论:' +\r\n-      content +\r\n-      ';\\t父id: ' +\r\n-      parentId +\r\n-      ';\\t图片:' +\r\n-      files +\r\n-      ';\\t被回复评论:' +\r\n-      reply +\r\n-      ';\\t提及列表:' +\r\n-      JSON.stringify(mentionList)\r\n-    console.log(str, reply)\r\n-  \r\n-    /**\r\n-     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n-     */\r\n-    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n-  \r\n-    temp_id += 1\r\n-    const comment: CommentApi = {\r\n-      id: String(temp_id),\r\n-      parentId: parentId,\r\n-      uid: config.user.id,\r\n-      address: '来自江苏',\r\n-      content: content,\r\n-      likes: 0,\r\n-      createTime: dayjs().subtract(5, 'seconds').toString(),\r\n-      contentImg: contentImg,\r\n-      user: {\r\n-        username: config.user.username,\r\n-        avatar: config.user.avatar,\r\n-        level: 6,\r\n-        homeLink: `/${temp_id}`\r\n-      },\r\n-      reply: null\r\n-    }\r\n-    setTimeout(() => {\r\n-      finish(comment)\r\n-      UToast({ message: '评论成功!', type: 'info' })\r\n-    }, 200)\r\n+  <style lang=\"scss\" scoped>\r\n+  .el-dropdown {\r\n+    position: absolute;\r\n+    top: 50%;\r\n+    transform: translateY(-50%);\r\n+    right: 0;\r\n   }\r\n-  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n-  const like = (id: string, finish: () => void) => {\r\n-    console.log('点赞: ' + id)\r\n-    setTimeout(() => {\r\n-      finish()\r\n-    }, 200)\r\n+  .operation-warp {\r\n+    font-size: 16px;\r\n+    color: #9499a0;\r\n+    cursor: pointer;\r\n+    position: relative;\r\n   }\r\n-  \r\n-  config.comments = [\r\n-    {\r\n-      id: '1',\r\n-      parentId: null,\r\n-      uid: '1',\r\n-      address: '来自上海',\r\n-      content:\r\n-        '缘生缘灭，缘起缘落，我在看别人的故事，别人何尝不是在看我的故事?别人在演绎人生，我又何尝不是在这场戏里?谁的眼神沧桑了谁?我的眼神，只是沧桑了自己[喝酒]',\r\n-      likes: 2,\r\n-      contentImg: 'https://gitee.com/undraw/undraw-ui/raw/master/public/docs/normal.webp',\r\n-      createTime: dayjs().subtract(10, 'minute').toString(),\r\n-      user: {\r\n-        username: '落🤍尘',\r\n-        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-        level: 6,\r\n-        homeLink: '/1'\r\n-      }\r\n-    }\r\n-  ]\r\n-  \r\n-  const baseUserArr = [\r\n-    {\r\n-      userId: 1,\r\n-      userName: '张三',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/cba6c7af94997ba172c32bbe668794553f29e91ef26f-qnroJ7_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 2,\r\n-      userName: '李四',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/d01263d11d07748a2193bbbdd3b9a0c8a4b062b9f39d-PKvV2t_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 3,\r\n-      userName: '王五',\r\n\\ No newline at end of file\n-      userAvatar: 'https://gd-hbimg.huaban.com/69d92bfbf36fc111e1f563403311e7943628c9fc108bf-6l34Pa_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 4,\r\n-      userName: '赵六',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/7f5c54a455f61f431ec1f7b7c0e583f4a725fb73adba-5DgU3q_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 5,\r\n-      userName: '孙七',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/edea85f44f3f8bce8d094ed78f390164a9eba229cb2e-1Lc22F_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 6,\r\n-      userName: '周八',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/c1b2131c6977e01a430d6575ba678a4afeabcad222605-UJUwwb_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 7,\r\n-      userName: '吴九',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/4942e77078bda39a458980049b528236bf79183814998-zVzEJv_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 8,\r\n-      userName: '郑十',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/628236086a2ca12d2074bdd29f496f38a4d0c06ae50f-Rj3vsO_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 9,\r\n-      userName: '王富贵',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/0108a6b65d211d3bc602bc0431e84b31f9e62ac08015f-JifENm_fw240webp'\r\n-    },\r\n-    {\r\n-      userId: 10,\r\n-      userName: '赵富贵',\r\n-      userAvatar: 'https://gd-hbimg.huaban.com/d9643d6181d506ccc159a940e11bdc6b9a2b53ae57139-pxAnk9_fw240webp'\r\n-    }\r\n-  ]\r\n-  \r\n-  const mentionSearchFn = (keyword: string) => {\r\n-    if (!keyword) {\r\n-      config.mentionConfig.userArr = baseUserArr\r\n-      return\r\n-    }\r\n-    config.mentionConfig.userArr = baseUserArr.filter(e => {\r\n-      return e.userName.includes(keyword)\r\n-    })\r\n+  .operation-warp:hover {\r\n+    color: #00aeec;\r\n   }\r\n-  </script>\r\n-  \n+  </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1710470748500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,12 @@\n+<!--\r\n+ * @Author: Fleurxxx 984209872@qq.com\r\n+ * @Date: 2024-03-15 10:24:21\r\n+ * @LastEditors: Fleurxxx 984209872@qq.com\r\n+ * @LastEditTime: 2024-03-15 10:45:48\r\n+ * @FilePath: \\moving-platform\\src\\component\\Comment.vue\r\n+ * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n+-->\r\n <template>\r\n     <el-dropdown trigger=\"click\" @command=\"onCommand\">\r\n       <div class=\"operation-warp\">\r\n           <u-icon>\r\n@@ -50,9 +58,9 @@\n   }\r\n   \r\n   </script>\r\n   \r\n-  <style lang=\"scss\" scoped>\r\n+  <style lang=\"less\" scoped>\r\n   .el-dropdown {\r\n     position: absolute;\r\n     top: 50%;\r\n     transform: translateY(-50%);\r\n"
                },
                {
                    "date": 1710471018418,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,78 +1,186 @@\n-<!--\r\n- * @Author: Fleurxxx 984209872@qq.com\r\n- * @Date: 2024-03-15 10:24:21\r\n- * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-15 10:45:48\r\n- * @FilePath: \\moving-platform\\src\\component\\Comment.vue\r\n- * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n--->\r\n <template>\r\n-    <el-dropdown trigger=\"click\" @command=\"onCommand\">\r\n-      <div class=\"operation-warp\">\r\n-          <u-icon>\r\n-            <svg viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n-              <path\r\n-                d=\"M586.624 234.624a74.624 74.624 0 1 1-149.184 0 74.624 74.624 0 0 1 149.12 0z m0 554.624a74.624 74.624 0 1 1-149.248 0 74.624 74.624 0 0 1 149.248 0zM512 586.624a74.624 74.624 0 1 0 0-149.248 74.624 74.624 0 0 0 0 149.248z\"\r\n-                fill=\"currentColor\"\r\n-              ></path>\r\n-            </svg>\r\n-          </u-icon>\r\n+    <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" relative-time>\r\n+      <template #card=\"scope\">\r\n+        <div class=\"user-card\">\r\n+          <div class=\"user-avatar\">\r\n+            <el-avatar style=\"margin-top: 5px\" :size=\"40\" fit=\"cover\" :src=\"scope.avatar\">\r\n+              <img src=\"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png\" />\r\n+            </el-avatar>\r\n+          </div>\r\n+          <div class=\"user-content\">\r\n+            <div class=\"user-info\">\r\n+              <a href=\"\" class=\"username\" target=\"_blank\">\r\n+                <span class=\"name\" style=\"max-width: 10em\">{{ scope.username }}</span>\r\n+                <span blank=\"true\" class=\"rank\">\r\n+                  <u-icon size=\"24\" v-html=\"useLevel(scope.level)\"></u-icon>\r\n+                </span>\r\n+              </a>\r\n+            </div>\r\n+            <div class=\"social-info\">\r\n+              <a href=\"\" class=\"attention\">\r\n+                <span>{{ scope.attention }}</span>\r\n+                <span>关注</span>\r\n+              </a>\r\n+              <a href=\"\" class=\"follower\">\r\n+                <span>{{ scope.follower }}</span>\r\n+                <span>粉丝</span>\r\n+              </a>\r\n+              <a href=\"\" class=\"like\">\r\n+                <span>{{ scope.like }}</span>\r\n+                <span>获赞</span>\r\n+              </a>\r\n+            </div>\r\n+            <div class=\"card-btn\">\r\n+              <el-button type=\"primary\">关注</el-button>\r\n+              <el-button>发消息</el-button>\r\n+            </div>\r\n+          </div>\r\n         </div>\r\n-      <template #dropdown>\r\n-        <el-dropdown-menu>\r\n-          <el-dropdown-item command=\"report\">举报</el-dropdown-item>\r\n-          <el-dropdown-item command=\"remove\">删除</el-dropdown-item>\r\n-          <el-dropdown-item divided command=\"copy\">复制</el-dropdown-item>\r\n-        </el-dropdown-menu>\r\n       </template>\r\n-    </el-dropdown>\r\n+    </u-comment>\r\n   </template>\r\n+  \r\n   <script setup lang=\"ts\">\r\n-  import { useClipboard } from '@vueuse/core'\r\n-  import { CommentApi, ElDropdown, ElDropdownItem, ElDropdownMenu, UToast} from 'undraw-ui'\r\n+  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n+  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n+  import emoji from './emoji'\r\n+  import { reactive, ref } from 'vue'\r\n+  import { CommentApi, ConfigApi, useLevel, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n   \r\n-  interface Props {\r\n-    comment: CommentApi\r\n\\ No newline at end of file\n-  }\r\n+  const config = reactive<ConfigApi>({\r\n+    user: {\r\n+      id: 1,\r\n+      username: 'jack',\r\n+      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n+      likeIds: [1, 2, 3]\r\n+    },\r\n+    emoji: emoji,\r\n+    comments: [],\r\n+    total: 10\r\n+  })\r\n   \r\n-  const props = defineProps<Props>()\r\n+  // 用户信息是否加载\r\n+  const loading = ref(false)\r\n   \r\n-  const emit = defineEmits<{\r\n-    (e: 'remove', comment: CommentApi): void\r\n-  }>()\r\n+  // 请求获取用户详细信息\r\n+  const showInfo = (uid: string, finish: Function) => {\r\n+    console.log(loading.value)\r\n+    loading.value = true\r\n+    console.log('获取用户信息: ' + uid)\r\n+    let userInfo\r\n+    setTimeout(() => {\r\n+      userInfo = {\r\n+        id: String(uid),\r\n+        username: '落🤍尘' + uid,\r\n+        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+        level: 6,\r\n+        like: 36011,\r\n+        attention: 15,\r\n+        follower: 6878\r\n+      }\r\n+      loading.value = false\r\n+      finish(userInfo)\r\n+    }, 200)\r\n+  }\r\n   \r\n-  const { copy } = useClipboard()\r\n+  let temp_id = 100\r\n+  // 提交评论事件\r\n+  const submit = ({ content, parentId, files, finish }: SubmitParamApi) => {\r\n+    console.log('提交评论: ' + content, parentId, files)\r\n   \r\n-  const onCommand = (command: any) => {\r\n-    switch(command) {\r\n-      case 'remove':\r\n-        emit('remove', props.comment)\r\n-        break\r\n-      case 'report':\r\n-        UToast({type: 'info', message: '举报成功: ' + props.comment.id})\r\n-        break\r\n-      case 'copy':\r\n-        copy(props.comment.content)\r\n-        UToast({type: 'info', message: '复制成功'})\r\n+    /**\r\n+     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n+     */\r\n+    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n+    temp_id += 1\r\n+    const comment: CommentApi = {\r\n+      id: String(temp_id),\r\n+      parentId: parentId,\r\n+      uid: config.user.id,\r\n+      address: '来自江苏',\r\n+      content: content,\r\n+      likes: 0,\r\n+      createTime: '1分钟前',\r\n+      contentImg: contentImg,\r\n+      user: {\r\n+        username: config.user.username,\r\n+        avatar: config.user.avatar,\r\n+        level: 6,\r\n+        homeLink: `/${temp_id}`\r\n+      },\r\n+      reply: null\r\n     }\r\n+    setTimeout(() => {\r\n+      finish(comment)\r\n+      UToast({ message: '评论成功!', type: 'info' })\r\n+    }, 200)\r\n   }\r\n+  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n+  const like = (id: string, finish: () => void) => {\r\n+    console.log('点赞: ' + id)\r\n+    setTimeout(() => {\r\n+      finish()\r\n+    }, 200)\r\n+  }\r\n   \r\n+  config.comments = [\r\n+    {\r\n+      id: '1',\r\n+      parentId: null,\r\n+      uid: '1',\r\n+      address: '来自上海',\r\n+      content:\r\n+        '缘生缘灭，缘起缘落，我在看别人的故事，别人何尝不是在看我的故事?别人在演绎人生，我又何尝不是在这场戏里?谁的眼神沧桑了谁?我的眼神，只是沧桑了自己[喝酒]',\r\n+      likes: 2,\r\n+      contentImg: 'https://gitee.com/undraw/undraw-ui/raw/master/public/docs/normal.webp',\r\n+      createTime: dayjs().subtract(10, 'minute').toString(),\r\n+      user: {\r\n+        username: '落🤍尘',\r\n+        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+        level: 6,\r\n+        homeLink: '/1'\r\n+      }\r\n+    }\r\n+  ]\r\n   </script>\r\n   \r\n-  <style lang=\"less\" scoped>\r\n-  .el-dropdown {\r\n-    position: absolute;\r\n-    top: 50%;\r\n-    transform: translateY(-50%);\r\n-    right: 0;\r\n+  <style lang=\"scss\" scoped>\r\n+  .user-card {\r\n+    display: flex;\r\n+    .user-content {\r\n+      flex: 1;\r\n+      margin-left: 16px;\r\n+      .user-info {\r\n+        .username {\r\n+          display: flex;\r\n+          align-items: center;\r\n+          text-decoration: none;\r\n+          .name {\r\n+            max-width: 10rem;\r\n+            font-weight: 500;\r\n+            font-size: 15px;\r\n+            color: #252933;\r\n+            line-height: 32px;\r\n+            margin-right: 4px;\r\n+          }\r\n+        }\r\n+      }\r\n+      .social-info {\r\n+        font-size: 12px;\r\n+        margin-bottom: 10px;\r\n+        a {\r\n+          text-decoration: none;\r\n+        }\r\n+        a:not(:first-child) {\r\n+          margin-left: 18px;\r\n+        }\r\n+        a span:last-child {\r\n+          margin-left: 3px;\r\n+          color: #9499a0;\r\n+        }\r\n+      }\r\n+    }\r\n   }\r\n-  .operation-warp {\r\n-    font-size: 16px;\r\n-    color: #9499a0;\r\n-    cursor: pointer;\r\n-    position: relative;\r\n-  }\r\n-  .operation-warp:hover {\r\n-    color: #00aeec;\r\n-  }\r\n-  </style>\n+  </style>\r\n+  \n\\ No newline at end of file\n"
                },
                {
                    "date": 1710471034071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n   \r\n   <script setup lang=\"ts\">\r\n   // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n   // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  import emoji from './emoji'\r\n+  import emoji from '@/emoji'\r\n   import { reactive, ref } from 'vue'\r\n   import { CommentApi, ConfigApi, useLevel, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n   \r\n   const config = reactive<ConfigApi>({\r\n"
                },
                {
                    "date": 1710471192218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n   \r\n   <script setup lang=\"ts\">\r\n   // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n   // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  import emoji from '@/emoji'\r\n+  import emoji from '@/utils/emoji'\r\n   import { reactive, ref } from 'vue'\r\n   import { CommentApi, ConfigApi, useLevel, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n   \r\n   const config = reactive<ConfigApi>({\r\n@@ -56,9 +56,9 @@\n       likeIds: [1, 2, 3]\r\n     },\r\n     emoji: emoji,\r\n     comments: [],\r\n-    total: 10\r\n+    //total: 10\r\n   })\r\n   \r\n   // 用户信息是否加载\r\n   const loading = ref(false)\r\n"
                },
                {
                    "date": 1710471207025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,186 @@\n+<template>\r\n+    <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" relative-time>\r\n+      <template #card=\"scope\">\r\n+        <div class=\"user-card\">\r\n+          <div class=\"user-avatar\">\r\n+            <el-avatar style=\"margin-top: 5px\" :size=\"40\" fit=\"cover\" :src=\"scope.avatar\">\r\n+              <img src=\"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png\" />\r\n+            </el-avatar>\r\n+          </div>\r\n+          <div class=\"user-content\">\r\n+            <div class=\"user-info\">\r\n+              <a href=\"\" class=\"username\" target=\"_blank\">\r\n+                <span class=\"name\" style=\"max-width: 10em\">{{ scope.username }}</span>\r\n+                <span blank=\"true\" class=\"rank\">\r\n+                  <u-icon size=\"24\" v-html=\"useLevel(scope.level)\"></u-icon>\r\n+                </span>\r\n+              </a>\r\n+            </div>\r\n+            <div class=\"social-info\">\r\n+              <a href=\"\" class=\"attention\">\r\n+                <span>{{ scope.attention }}</span>\r\n+                <span>关注</span>\r\n+              </a>\r\n+              <a href=\"\" class=\"follower\">\r\n+                <span>{{ scope.follower }}</span>\r\n+                <span>粉丝</span>\r\n+              </a>\r\n+              <a href=\"\" class=\"like\">\r\n+                <span>{{ scope.like }}</span>\r\n+                <span>获赞</span>\r\n+              </a>\r\n+            </div>\r\n+            <div class=\"card-btn\">\r\n+              <el-button type=\"primary\">关注</el-button>\r\n+              <el-button>发消息</el-button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </template>\r\n+    </u-comment>\r\n+  </template>\r\n+  \r\n+  <script setup lang=\"ts\">\r\n+  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n+  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n+  import emoji from '@/utils/emoji'\r\n+  import { reactive, ref } from 'vue'\r\n+  import { CommentApi, ConfigApi, useLevel, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n+  \r\n+  const config = reactive<ConfigApi>({\r\n+    user: {\r\n+      id: 1,\r\n+      username: 'jack',\r\n+      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n+      likeIds: [1, 2, 3]\r\n+    },\r\n+    emoji: emoji,\r\n+    comments: [],\r\n+    //total: 10\r\n+  })\r\n+  \r\n+  // 用户信息是否加载\r\n+  const loading = ref(false)\r\n+  \r\n+  // 请求获取用户详细信息\r\n+  const showInfo = (uid: string, finish: Function) => {\r\n+    console.log(loading.value)\r\n+    loading.value = true\r\n+    console.log('获取用户信息: ' + uid)\r\n+    let userInfo\r\n+    setTimeout(() => {\r\n+      userInfo = {\r\n+        id: String(uid),\r\n+        username: '落🤍尘' + uid,\r\n+        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+        level: 6,\r\n+        like: 36011,\r\n+        attention: 15,\r\n+        follower: 6878\r\n+      }\r\n+      loading.value = false\r\n+      finish(userInfo)\r\n+    }, 200)\r\n+  }\r\n+  \r\n+  let temp_id = 100\r\n+  // 提交评论事件\r\n+  const submit = ({ content, parentId, files, finish }: SubmitParamApi) => {\r\n+    console.log('提交评论: ' + content, parentId, files)\r\n+  \r\n+    /**\r\n+     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n+     */\r\n+    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n+    temp_id += 1\r\n+    const comment: CommentApi = {\r\n+      id: String(temp_id),\r\n+      parentId: parentId,\r\n+      uid: config.user.id,\r\n+      address: '来自江苏',\r\n+      content: content,\r\n+      likes: 0,\r\n+      createTime: '1分钟前',\r\n+      contentImg: contentImg,\r\n+      user: {\r\n+        username: config.user.username,\r\n+        avatar: config.user.avatar,\r\n+        level: 6,\r\n+        homeLink: `/${temp_id}`\r\n+      },\r\n+      reply: null\r\n+    }\r\n+    setTimeout(() => {\r\n+      finish(comment)\r\n+      UToast({ message: '评论成功!', type: 'info' })\r\n+    }, 200)\r\n+  }\r\n+  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n+  const like = (id: string, finish: () => void) => {\r\n+    console.log('点赞: ' + id)\r\n+    setTimeout(() => {\r\n+      finish()\r\n+    }, 200)\r\n+  }\r\n+  \r\n+  config.comments = [\r\n+    {\r\n+      id: '1',\r\n+      parentId: null,\r\n+      uid: '1',\r\n+      address: '来自上海',\r\n+      content:\r\n+        '缘生缘灭，缘起缘落，我在看别人的故事，别人何尝不是在看我的故事?别人在演绎人生，我又何尝不是在这场戏里?谁的眼神沧桑了谁?我的眼神，只是沧桑了自己[喝酒]',\r\n+      likes: 2,\r\n+      contentImg: 'https://gitee.com/undraw/undraw-ui/raw/master/public/docs/normal.webp',\r\n+      createTime: dayjs().subtract(10, 'minute').toString(),\r\n+      user: {\r\n+        username: '落🤍尘',\r\n+        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+        level: 6,\r\n+        homeLink: '/1'\r\n+      }\r\n+    }\r\n+  ]\r\n+  </script>\r\n+  \r\n+  <style lang=\"less\" scoped>\r\n+  .user-card {\r\n+    display: flex;\r\n+    .user-content {\r\n+      flex: 1;\r\n+      margin-left: 16px;\r\n+      .user-info {\r\n+        .username {\r\n+          display: flex;\r\n+          align-items: center;\r\n+          text-decoration: none;\r\n+          .name {\r\n+            max-width: 10rem;\r\n+            font-weight: 500;\r\n+            font-size: 15px;\r\n+            color: #252933;\r\n+            line-height: 32px;\r\n+            margin-right: 4px;\r\n+          }\r\n+        }\r\n+      }\r\n+      .social-info {\r\n+        font-size: 12px;\r\n+        margin-bottom: 10px;\r\n+        a {\r\n+          text-decoration: none;\r\n+        }\r\n+        a:not(:first-child) {\r\n+          margin-left: 18px;\r\n+        }\r\n+        a span:last-child {\r\n+          margin-left: 3px;\r\n+          color: #9499a0;\r\n+        }\r\n+      }\r\n+    }\r\n+  }\r\n+  </style>\r\n+  \n\\ No newline at end of file\n"
                },
                {
                    "date": 1710471442225,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <template>\r\n-    <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" relative-time>\r\n+    <u-comment :config=\"config\" upload @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" relative-time>\r\n       <template #card=\"scope\">\r\n         <div class=\"user-card\">\r\n           <div class=\"user-avatar\">\r\n             <el-avatar style=\"margin-top: 5px\" :size=\"40\" fit=\"cover\" :src=\"scope.avatar\">\r\n@@ -182,191 +182,5 @@\n       }\r\n     }\r\n   }\r\n   </style>\r\n-  \n-<template>\r\n-    <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" relative-time>\r\n-      <template #card=\"scope\">\r\n-        <div class=\"user-card\">\r\n-          <div class=\"user-avatar\">\r\n-            <el-avatar style=\"margin-top: 5px\" :size=\"40\" fit=\"cover\" :src=\"scope.avatar\">\r\n-              <img src=\"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png\" />\r\n-            </el-avatar>\r\n-          </div>\r\n-          <div class=\"user-content\">\r\n-            <div class=\"user-info\">\r\n-              <a href=\"\" class=\"username\" target=\"_blank\">\r\n-                <span class=\"name\" style=\"max-width: 10em\">{{ scope.username }}</span>\r\n-                <span blank=\"true\" class=\"rank\">\r\n-                  <u-icon size=\"24\" v-html=\"useLevel(scope.level)\"></u-icon>\r\n-                </span>\r\n-              </a>\r\n-            </div>\r\n-            <div class=\"social-info\">\r\n-              <a href=\"\" class=\"attention\">\r\n-                <span>{{ scope.attention }}</span>\r\n-                <span>关注</span>\r\n-              </a>\r\n-              <a href=\"\" class=\"follower\">\r\n-                <span>{{ scope.follower }}</span>\r\n-                <span>粉丝</span>\r\n-              </a>\r\n-              <a href=\"\" class=\"like\">\r\n-                <span>{{ scope.like }}</span>\r\n-                <span>获赞</span>\r\n-              </a>\r\n-            </div>\r\n-            <div class=\"card-btn\">\r\n-              <el-button type=\"primary\">关注</el-button>\r\n-              <el-button>发消息</el-button>\r\n-            </div>\r\n-          </div>\r\n-        </div>\r\n-      </template>\r\n-    </u-comment>\r\n-  </template>\r\n-  \r\n-  <script setup lang=\"ts\">\r\n-  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n-  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n-  import emoji from '@/utils/emoji'\r\n-  import { reactive, ref } from 'vue'\r\n-  import { CommentApi, ConfigApi, useLevel, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n-  \r\n-  const config = reactive<ConfigApi>({\r\n-    user: {\r\n-      id: 1,\r\n-      username: 'jack',\r\n-      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n-      likeIds: [1, 2, 3]\r\n-    },\r\n-    emoji: emoji,\r\n-    comments: [],\r\n-    //total: 10\r\n-  })\r\n-  \r\n-  // 用户信息是否加载\r\n-  const loading = ref(false)\r\n-  \r\n-  // 请求获取用户详细信息\r\n-  const showInfo = (uid: string, finish: Function) => {\r\n-    console.log(loading.value)\r\n-    loading.value = true\r\n-    console.log('获取用户信息: ' + uid)\r\n-    let userInfo\r\n-    setTimeout(() => {\r\n-      userInfo = {\r\n-        id: String(uid),\r\n-        username: '落🤍尘' + uid,\r\n-        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-        level: 6,\r\n-        like: 36011,\r\n-        attention: 15,\r\n-        follower: 6878\r\n-      }\r\n-      loading.value = false\r\n-      finish(userInfo)\r\n-    }, 200)\r\n-  }\r\n-  \r\n-  let temp_id = 100\r\n-  // 提交评论事件\r\n-  const submit = ({ content, parentId, files, finish }: SubmitParamApi) => {\r\n-    console.log('提交评论: ' + content, parentId, files)\r\n-  \r\n-    /**\r\n-     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n-     */\r\n-    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n-    temp_id += 1\r\n-    const comment: CommentApi = {\r\n-      id: String(temp_id),\r\n-      parentId: parentId,\r\n-      uid: config.user.id,\r\n-      address: '来自江苏',\r\n-      content: content,\r\n-      likes: 0,\r\n-      createTime: '1分钟前',\r\n-      contentImg: contentImg,\r\n-      user: {\r\n-        username: config.user.username,\r\n-        avatar: config.user.avatar,\r\n-        level: 6,\r\n-        homeLink: `/${temp_id}`\r\n-      },\r\n-      reply: null\r\n-    }\r\n-    setTimeout(() => {\r\n-      finish(comment)\r\n-      UToast({ message: '评论成功!', type: 'info' })\r\n-    }, 200)\r\n-  }\r\n-  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n-  const like = (id: string, finish: () => void) => {\r\n-    console.log('点赞: ' + id)\r\n-    setTimeout(() => {\r\n-      finish()\r\n-    }, 200)\r\n-  }\r\n-  \r\n-  config.comments = [\r\n-    {\r\n-      id: '1',\r\n-      parentId: null,\r\n-      uid: '1',\r\n-      address: '来自上海',\r\n-      content:\r\n-        '缘生缘灭，缘起缘落，我在看别人的故事，别人何尝不是在看我的故事?别人在演绎人生，我又何尝不是在这场戏里?谁的眼神沧桑了谁?我的眼神，只是沧桑了自己[喝酒]',\r\n-      likes: 2,\r\n-      contentImg: 'https://gitee.com/undraw/undraw-ui/raw/master/public/docs/normal.webp',\r\n-      createTime: dayjs().subtract(10, 'minute').toString(),\r\n-      user: {\r\n-        username: '落🤍尘',\r\n-        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n-        level: 6,\r\n-        homeLink: '/1'\r\n-      }\r\n-    }\r\n-  ]\r\n-  </script>\r\n-  \r\n-  <style lang=\"scss\" scoped>\r\n-  .user-card {\r\n-    display: flex;\r\n-    .user-content {\r\n-      flex: 1;\r\n-      margin-left: 16px;\r\n-      .user-info {\r\n-        .username {\r\n-          display: flex;\r\n-          align-items: center;\r\n-          text-decoration: none;\r\n-          .name {\r\n-            max-width: 10rem;\r\n-            font-weight: 500;\r\n-            font-size: 15px;\r\n-            color: #252933;\r\n-            line-height: 32px;\r\n-            margin-right: 4px;\r\n-          }\r\n-        }\r\n-      }\r\n-      .social-info {\r\n-        font-size: 12px;\r\n-        margin-bottom: 10px;\r\n-        a {\r\n-          text-decoration: none;\r\n-        }\r\n-        a:not(:first-child) {\r\n-          margin-left: 18px;\r\n-        }\r\n-        a span:last-child {\r\n-          margin-left: 3px;\r\n-          color: #9499a0;\r\n-        }\r\n-      }\r\n-    }\r\n-  }\r\n-  </style>\r\n   \n\\ No newline at end of file\n"
                },
                {
                    "date": 1710471519712,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,9 +100,10 @@\n       uid: config.user.id,\r\n       address: '来自江苏',\r\n       content: content,\r\n       likes: 0,\r\n-      createTime: '1分钟前',\r\n+    //   createTime: '1分钟前',\r\n+        createTime: dayjs().subtract(5, 'seconds').toString(),\r\n       contentImg: contentImg,\r\n       user: {\r\n         username: config.user.username,\r\n         avatar: config.user.avatar,\r\n"
                },
                {
                    "date": 1710471631315,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <template>\r\n-    <u-comment :config=\"config\" upload @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" relative-time>\r\n+    <u-comment :config=\"config\" upload @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\"  relative-time>\r\n       <template #card=\"scope\">\r\n         <div class=\"user-card\">\r\n           <div class=\"user-avatar\">\r\n             <el-avatar style=\"margin-top: 5px\" :size=\"40\" fit=\"cover\" :src=\"scope.avatar\">\r\n@@ -101,9 +101,9 @@\n       address: '来自江苏',\r\n       content: content,\r\n       likes: 0,\r\n     //   createTime: '1分钟前',\r\n-        createTime: dayjs().subtract(5, 'seconds').toString(),\r\n+      createTime: dayjs().subtract(5, 'seconds').toString(),\r\n       contentImg: contentImg,\r\n       user: {\r\n         username: config.user.username,\r\n         avatar: config.user.avatar,\r\n"
                },
                {
                    "date": 1710471643429,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <template>\r\n-    <u-comment :config=\"config\" upload @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\"  relative-time>\r\n+    <u-comment :config=\"config\" upload @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" page  @reply-page=\"replyPage\" relative-time>\r\n       <template #card=\"scope\">\r\n         <div class=\"user-card\">\r\n           <div class=\"user-avatar\">\r\n             <el-avatar style=\"margin-top: 5px\" :size=\"40\" fit=\"cover\" :src=\"scope.avatar\">\r\n"
                },
                {
                    "date": 1710471674057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,9 +123,18 @@\n     setTimeout(() => {\r\n       finish()\r\n     }, 200)\r\n   }\r\n-  \r\n+  //回复分页\r\n+const replyPage = ({ parentId, pageNum, pageSize, finish }: ReplyPageParamApi) => {\r\n+  let tmp = {\r\n+    total: reply.total,\r\n+    list: usePage(pageNum, pageSize, reply.list)\r\n+  }\r\n+  setTimeout(() => {\r\n+    finish(tmp)\r\n+  }, 200)\r\n+}\r\n   config.comments = [\r\n     {\r\n       id: '1',\r\n       parentId: null,\r\n"
                },
                {
                    "date": 1710471796297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n <template>\r\n-    <u-comment :config=\"config\" upload @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" page  @reply-page=\"replyPage\" relative-time>\r\n+    <u-comment :config=\"config\" upload @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" page @reply-page=\"replyPage\" relative-time>\r\n       <template #card=\"scope\">\r\n         <div class=\"user-card\">\r\n           <div class=\"user-avatar\">\r\n             <el-avatar style=\"margin-top: 5px\" :size=\"40\" fit=\"cover\" :src=\"scope.avatar\">\r\n@@ -44,9 +44,9 @@\n   // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n   // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n   import emoji from '@/utils/emoji'\r\n   import { reactive, ref } from 'vue'\r\n-  import { CommentApi, ConfigApi, useLevel, SubmitParamApi, UToast, createObjectURL, dayjs } from 'undraw-ui'\r\n+  import { CommentApi, ConfigApi, useLevel, SubmitParamApi, UToast, createObjectURL,ReplyApi, usePage, ReplyPageParamApi, dayjs } from 'undraw-ui'\r\n   \r\n   const config = reactive<ConfigApi>({\r\n     user: {\r\n       id: 1,\r\n"
                },
                {
                    "date": 1710472889496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -191,6 +191,9 @@\n         }\r\n       }\r\n     }\r\n   }\r\n+  .reply[data-v-d057ae4a]:not(:first-child) {\r\n+    /* margin-top: 2rem; */\r\n+}\r\n   </style>\r\n   \n\\ No newline at end of file\n"
                },
                {
                    "date": 1710472897836,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -192,8 +192,8 @@\n       }\r\n     }\r\n   }\r\n     .reply[data-v-d057ae4a]:not(:first-child) {\r\n-        /* margin-top: 2rem; */\r\n+        // /* margin-top: 2rem; */\r\n     }\r\n   </style>\r\n   \n\\ No newline at end of file\n"
                },
                {
                    "date": 1710472903044,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,199 @@\n+<template>\r\n+    <u-comment :config=\"config\" upload @submit=\"submit\" @like=\"like\" @show-info=\"showInfo\" page @reply-page=\"replyPage\" relative-time>\r\n+      <template #card=\"scope\">\r\n+        <div class=\"user-card\">\r\n+          <div class=\"user-avatar\">\r\n+            <el-avatar style=\"margin-top: 5px\" :size=\"40\" fit=\"cover\" :src=\"scope.avatar\">\r\n+              <img src=\"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png\" />\r\n+            </el-avatar>\r\n+          </div>\r\n+          <div class=\"user-content\">\r\n+            <div class=\"user-info\">\r\n+              <a href=\"\" class=\"username\" target=\"_blank\">\r\n+                <span class=\"name\" style=\"max-width: 10em\">{{ scope.username }}</span>\r\n+                <span blank=\"true\" class=\"rank\">\r\n+                  <u-icon size=\"24\" v-html=\"useLevel(scope.level)\"></u-icon>\r\n+                </span>\r\n+              </a>\r\n+            </div>\r\n+            <div class=\"social-info\">\r\n+              <a href=\"\" class=\"attention\">\r\n+                <span>{{ scope.attention }}</span>\r\n+                <span>关注</span>\r\n+              </a>\r\n+              <a href=\"\" class=\"follower\">\r\n+                <span>{{ scope.follower }}</span>\r\n+                <span>粉丝</span>\r\n+              </a>\r\n+              <a href=\"\" class=\"like\">\r\n+                <span>{{ scope.like }}</span>\r\n+                <span>获赞</span>\r\n+              </a>\r\n+            </div>\r\n+            <div class=\"card-btn\">\r\n+              <el-button type=\"primary\">关注</el-button>\r\n+              <el-button>发消息</el-button>\r\n+            </div>\r\n+          </div>\r\n+        </div>\r\n+      </template>\r\n+    </u-comment>\r\n+  </template>\r\n+  \r\n+  <script setup lang=\"ts\">\r\n+  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases/tag/v0.0.0\r\n+  // static文件放在public下,引入emoji.ts文件可以移动assets下引入,也可以自定义到指定位置\r\n+  import emoji from '@/utils/emoji'\r\n+  import { reactive, ref } from 'vue'\r\n+  import { CommentApi, ConfigApi, useLevel, SubmitParamApi, UToast, createObjectURL,ReplyApi, usePage, ReplyPageParamApi, dayjs } from 'undraw-ui'\r\n+  \r\n+  const config = reactive<ConfigApi>({\r\n+    user: {\r\n+      id: 1,\r\n+      username: 'jack',\r\n+      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+      // 评论id数组 建议:存储方式用户uid和评论id组成关系,根据用户uid来获取对应点赞评论id,然后加入到数组中返回\r\n+      likeIds: [1, 2, 3]\r\n+    },\r\n+    emoji: emoji,\r\n+    comments: [],\r\n+    //total: 10\r\n+  })\r\n+  \r\n+  // 用户信息是否加载\r\n+  const loading = ref(false)\r\n+  \r\n+  // 请求获取用户详细信息\r\n+  const showInfo = (uid: string, finish: Function) => {\r\n+    console.log(loading.value)\r\n+    loading.value = true\r\n+    console.log('获取用户信息: ' + uid)\r\n+    let userInfo\r\n+    setTimeout(() => {\r\n+      userInfo = {\r\n+        id: String(uid),\r\n+        username: '落🤍尘' + uid,\r\n+        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+        level: 6,\r\n+        like: 36011,\r\n+        attention: 15,\r\n+        follower: 6878\r\n+      }\r\n+      loading.value = false\r\n+      finish(userInfo)\r\n+    }, 200)\r\n+  }\r\n+  \r\n+  let temp_id = 100\r\n+  // 提交评论事件\r\n+  const submit = ({ content, parentId, files, finish }: SubmitParamApi) => {\r\n+    console.log('提交评论: ' + content, parentId, files)\r\n+  \r\n+    /**\r\n+     * 上传文件后端返回图片访问地址，格式以'||'为分割; 如:  '/static/img/program.gif||/static/img/normal.webp'\r\n+     */\r\n+    let contentImg = files?.map(e => createObjectURL(e)).join('||')\r\n+    temp_id += 1\r\n+    const comment: CommentApi = {\r\n+      id: String(temp_id),\r\n+      parentId: parentId,\r\n+      uid: config.user.id,\r\n+      address: '来自江苏',\r\n+      content: content,\r\n+      likes: 0,\r\n+    //   createTime: '1分钟前',\r\n+      createTime: dayjs().subtract(5, 'seconds').toString(),\r\n+      contentImg: contentImg,\r\n+      user: {\r\n+        username: config.user.username,\r\n+        avatar: config.user.avatar,\r\n+        level: 6,\r\n+        homeLink: `/${temp_id}`\r\n+      },\r\n+      reply: null\r\n+    }\r\n+    setTimeout(() => {\r\n+      finish(comment)\r\n+      UToast({ message: '评论成功!', type: 'info' })\r\n+    }, 200)\r\n+  }\r\n+  // 点赞按钮事件 将评论id返回后端判断是否点赞，然后在处理点赞状态\r\n+  const like = (id: string, finish: () => void) => {\r\n+    console.log('点赞: ' + id)\r\n+    setTimeout(() => {\r\n+      finish()\r\n+    }, 200)\r\n+  }\r\n+  //回复分页\r\n+const replyPage = ({ parentId, pageNum, pageSize, finish }: ReplyPageParamApi) => {\r\n+  let tmp = {\r\n+    total: reply.total,\r\n+    list: usePage(pageNum, pageSize, reply.list)\r\n+  }\r\n+  setTimeout(() => {\r\n+    finish(tmp)\r\n+  }, 200)\r\n+}\r\n+  config.comments = [\r\n+    {\r\n+      id: '1',\r\n+      parentId: null,\r\n+      uid: '1',\r\n+      address: '来自上海',\r\n+      content:\r\n+        '缘生缘灭，缘起缘落，我在看别人的故事，别人何尝不是在看我的故事?别人在演绎人生，我又何尝不是在这场戏里?谁的眼神沧桑了谁?我的眼神，只是沧桑了自己[喝酒]',\r\n+      likes: 2,\r\n+      contentImg: 'https://gitee.com/undraw/undraw-ui/raw/master/public/docs/normal.webp',\r\n+      createTime: dayjs().subtract(10, 'minute').toString(),\r\n+      user: {\r\n+        username: '落🤍尘',\r\n+        avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n+        level: 6,\r\n+        homeLink: '/1'\r\n+      }\r\n+    }\r\n+  ]\r\n+  </script>\r\n+  \r\n+  <style lang=\"less\" scoped>\r\n+  .user-card {\r\n+    display: flex;\r\n+    .user-content {\r\n+      flex: 1;\r\n+      margin-left: 16px;\r\n+      .user-info {\r\n+        .username {\r\n+          display: flex;\r\n+          align-items: center;\r\n+          text-decoration: none;\r\n+          .name {\r\n+            max-width: 10rem;\r\n+            font-weight: 500;\r\n+            font-size: 15px;\r\n+            color: #252933;\r\n+            line-height: 32px;\r\n+            margin-right: 4px;\r\n+          }\r\n+        }\r\n+      }\r\n+      .social-info {\r\n+        font-size: 12px;\r\n+        margin-bottom: 10px;\r\n+        a {\r\n+          text-decoration: none;\r\n+        }\r\n+        a:not(:first-child) {\r\n+          margin-left: 18px;\r\n+        }\r\n+        a span:last-child {\r\n+          margin-left: 3px;\r\n+          color: #9499a0;\r\n+        }\r\n+      }\r\n+    }\r\n+  }\r\n+    .reply[data-v-d057ae4a]:not(:first-child) {\r\n+        margin-top: 2rem; */\r\n+    }\r\n+  </style>\r\n+  \n\\ No newline at end of file\n"
                }
            ],
            "date": 1710469470006,
            "name": "Commit-0",
            "content": "<template>\r\n    <div class=\"comment-view\" style=\"padding: 0px\">\r\n      <u-comment :config=\"config\" @submit=\"submit\" @like=\"like\">\r\n        <!-- <template #list-title>全部评论</template> -->\r\n      </u-comment>\r\n    </div>\r\n  </template>\r\n  \r\n  <script setup lang=\"ts\">\r\n  import { reactive } from 'vue'\r\n  import { UToast, CommentApi, CommentSubmitParam, ConfigApi } from 'undraw-ui'\r\n  // 下载表情包资源emoji.zip https://gitee.com/undraw/undraw-ui/releases\r\n  // static文件放在public下,引入emoji.ts文件可以移动到自定义位置\r\n  import emoji from './emoji'\r\n  \r\n  const config = reactive<ConfigApi>({\r\n    user: {\r\n      id: 1,\r\n      username: 'user',\r\n      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n      // 评论id数组 建议:存储方式用户id和文章id和评论id组成关系,根据用户id和文章id来获取对应点赞评论id,然后加入到数组中返回\r\n      likes: [1, 2, 11]\r\n    },\r\n    emoji: emoji,\r\n    comments: []\r\n  })\r\n  \r\n  // 提交评论事件\r\n  const submit = ({ clear, content, parentId }: CommentSubmitParam) => {\r\n    console.log(content, parentId)\r\n    UToast({ message: '评论成功!', type: 'info' })\r\n    // 提交评论 --后端接口处理\r\n    editSubmit(content, parentId as number)\r\n    clear()\r\n  }\r\n  \r\n  // 点赞按钮事件\r\n  const like = (id: number) => {\r\n    const likes = config.user.likes\r\n    if (likes.indexOf(id) == -1) {\r\n      // 点赞 --后端接口处理\r\n      likes.push(id)\r\n      editLike(id, 1)\r\n    } else {\r\n      // 取消点赞 --后端接口\r\n      likes.splice(\r\n        likes.findIndex(item => item == id),\r\n        1\r\n      )\r\n      editLike(id, -1)\r\n    }\r\n  }\r\n  \r\n  // 模拟后端处理\r\n  const editLike = (id: number, count: number) => {\r\n    let tar = null\r\n    config.comments.forEach(v => {\r\n      if (v.id != id) {\r\n        tar = v.reply?.list.find(v => v.id == id)\r\n      } else {\r\n        tar = v\r\n      }\r\n      if (tar) {\r\n        tar.like += count\r\n      }\r\n    })\r\n  }\r\n  \r\n  let temp_id = 100\r\n  // 模拟后端处理\r\n  const editSubmit = (content: string, parentId: number) => {\r\n    let comment: CommentApi = {\r\n      id: (temp_id += 1),\r\n      parentId: parentId,\r\n      avatar: config.user.avatar,\r\n      username: config.user.username,\r\n      level: 6,\r\n      link: `/${(temp_id += 1)}`,\r\n      address: '来自江苏',\r\n      content: content,\r\n      like: 0,\r\n      createTime: '1分钟前',\r\n      reply: null\r\n    }\r\n    if (parentId == undefined) {\r\n      config.comments.push(comment)\r\n    } else {\r\n      let raw_comment = config.comments.find(v => v.id == parentId)\r\n      let reply = raw_comment?.reply\r\n      if (reply) {\r\n        reply.list.push(comment)\r\n      } else if (raw_comment) {\r\n        raw_comment.reply = { total: 1, list: [comment] }\r\n      } else {\r\n        config.comments.push(comment)\r\n      }\r\n    }\r\n  }\r\n  \r\n  config.comments = [\r\n    {\r\n      id: 1,\r\n      parentId: null,\r\n      avatar: 'https://static.juzicon.com/avatars/avatar-200602130320-HMR2.jpeg?x-oss-process=image/resize,w_100',\r\n      username: '落🤍尘',\r\n      level: 6,\r\n      link: '/1',\r\n      address: '来自上海',\r\n      content:\r\n        '缘生缘灭，缘起缘落，我在看别人的故事，别人何尝不是在看我的故事?别人在演绎人生，我又何尝不是在这场戏里?谁的眼神沧桑了谁?我的眼神，只是沧桑了自己[喝酒]',\r\n      like: 2,\r\n      createTime: '1分钟前',\r\n      reply: null\r\n    },\r\n    {\r\n      id: 3,\r\n      parentId: null,\r\n      username: '悟二空',\r\n      avatar: 'https://static.juzicon.com/user/avatar-bf22291e-ea5c-4280-850d-88bc288fcf5d-220408002256-ZBQQ.jpeg',\r\n      level: 1,\r\n      link: '/3',\r\n      address: '来自苏州',\r\n      content: '知道在学校为什么感觉这么困吗？因为学校，是梦开始的地方。[脱单doge]',\r\n      like: 11,\r\n      createTime: '1天前',\r\n      reply: {\r\n        total: 2,\r\n        list: [\r\n          {\r\n            id: 14,\r\n            parentId: 3,\r\n            avatar:\r\n              'https://static.juzicon.com/user/avatar-8b6206c1-b28f-4636-8952-d8d9edec975d-191001105631-MDTM.jpg?x-oss-process=image/resize,m_fill,w_100,h_100',\r\n            username: '别扰我清梦*ぁ',\r\n            level: 5,\r\n            link: '/14',\r\n            address: '来自重庆',\r\n            content: '说的对，所以，综上所述，上课睡觉不怪我呀💤',\r\n            like: 3,\r\n            createTime: '1分钟前'\r\n          },\r\n          {\r\n            id: 15,\r\n            avatar:\r\n              'https://static.juzicon.com/user/avatar-3cb86a0c-08e7-4305-9ac6-34e0cf4937cc-180320123405-BCV6.jpg?x-oss-process=image/resize,m_fill,w_100,h_100',\r\n            parentId: 3,\r\n            username: 'Blizzard',\r\n            level: 4,\r\n            link: '/15',\r\n            content: '回复 <span style=\"color: blue;\"\">@别扰我清梦*ぁ:</span> 看完打了一个哈切。。。会传染。。。[委屈]',\r\n            address: '来自广州',\r\n            like: 9,\r\n            createTime: '7天前'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n  </script>\r\n  \r\n  "
        }
    ]
}