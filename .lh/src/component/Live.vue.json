{
    "sourceFile": "src/component/Live.vue",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 24,
            "patches": [
                {
                    "date": 1711356260746,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1711356289157,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,12 +1,20 @@\n+<!--\r\n+ * @Author: Fleurxxx 984209872@qq.com\r\n+ * @Date: 2024-03-25 16:44:15\r\n+ * @LastEditors: Fleurxxx 984209872@qq.com\r\n+ * @LastEditTime: 2024-03-25 16:44:21\r\n+ * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n+ * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n+-->\r\n <template>\r\n     <div class=\"prism-player\" ref=\"playerCon\"></div>\r\n   </template>\r\n   \r\n   <script setup lang=\"ts\">\r\n   import { onMounted } from 'vue';\r\n   \r\n-  const { Aliplayer } = window;\r\n+//   const { Aliplayer } = window;\r\n   \r\n   onMounted(() => {\r\n     const player = new Aliplayer({\r\n       id: 'player-con',\r\n"
                },
                {
                    "date": 1711356298056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,9 @@\n   \r\n   <script setup lang=\"ts\">\r\n   import { onMounted } from 'vue';\r\n   \r\n-//   const { Aliplayer } = window;\r\n+  const { Aliplayer } = window;\r\n   \r\n   onMounted(() => {\r\n     const player = new Aliplayer({\r\n       id: 'player-con',\r\n"
                },
                {
                    "date": 1711356342154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,12 +12,12 @@\n   \r\n   <script setup lang=\"ts\">\r\n   import { onMounted } from 'vue';\r\n   \r\n-  const { Aliplayer } = window;\r\n+//   const { Aliplayer } = window;\r\n   \r\n   onMounted(() => {\r\n-    const player = new Aliplayer({\r\n+    const player = new windoeAliplayer({\r\n       id: 'player-con',\r\n       source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n       width: '100%',\r\n       height: '500px',\r\n"
                },
                {
                    "date": 1711356396474,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n   \r\n //   const { Aliplayer } = window;\r\n   \r\n   onMounted(() => {\r\n-    const player = new windoeAliplayer({\r\n+    const player = new window.Aliplayer({\r\n       id: 'player-con',\r\n       source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n       width: '100%',\r\n       height: '500px',\r\n"
                },
                {
                    "date": 1711356415726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <!--\r\n  * @Author: Fleurxxx 984209872@qq.com\r\n  * @Date: 2024-03-25 16:44:15\r\n  * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-25 16:44:21\r\n+ * @LastEditTime: 2024-03-25 16:46:55\r\n  * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n  * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n -->\r\n <template>\r\n@@ -15,9 +15,9 @@\n   \r\n //   const { Aliplayer } = window;\r\n   \r\n   onMounted(() => {\r\n-    const player = new window.Aliplayer({\r\n+    const player = new Aliplayer({\r\n       id: 'player-con',\r\n       source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n       width: '100%',\r\n       height: '500px',\r\n"
                },
                {
                    "date": 1711356425813,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n   \r\n //   const { Aliplayer } = window;\r\n   \r\n   onMounted(() => {\r\n-    const player = new Aliplayer({\r\n+    const player = new player({\r\n       id: 'player-con',\r\n       source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n       width: '100%',\r\n       height: '500px',\r\n"
                },
                {
                    "date": 1711360096397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n <!--\r\n  * @Author: Fleurxxx 984209872@qq.com\r\n  * @Date: 2024-03-25 16:44:15\r\n  * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-25 16:46:55\r\n+ * @LastEditTime: 2024-03-25 17:48:16\r\n  * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n  * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n -->\r\n <template>\r\n@@ -15,9 +15,9 @@\n   \r\n //   const { Aliplayer } = window;\r\n   \r\n   onMounted(() => {\r\n-    const player = new player({\r\n+    const player = new Aliplayer({\r\n       id: 'player-con',\r\n       source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n       width: '100%',\r\n       height: '500px',\r\n@@ -37,8 +37,7 @@\n     player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n   });\r\n   </script>\r\n   \r\n-  <style>\r\n-  /* 可以添加样式，也可以将原有的样式移到这里 */\r\n-  </style>\r\n-  \n\\ No newline at end of file\n+  <style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711360137697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,8 +35,10 @@\n   \r\n     const playerCon = document.getElementById('player-con');\r\n     player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n   });\r\n+\r\n+  function \r\n   </script>\r\n   \r\n   <style lang=\"postcss\" scoped>\r\n   @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n"
                },
                {
                    "date": 1711360143210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,47 @@\n+<!--\r\n+ * @Author: Fleurxxx 984209872@qq.com\r\n+ * @Date: 2024-03-25 16:44:15\r\n+ * @LastEditors: Fleurxxx 984209872@qq.com\r\n+ * @LastEditTime: 2024-03-25 17:48:16\r\n+ * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n+ * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n+-->\r\n+<template>\r\n+    <div class=\"prism-player\" ref=\"playerCon\"></div>\r\n+  </template>\r\n+  \r\n+  <script setup lang=\"ts\">\r\n+  import { onMounted } from 'vue';\r\n+  \r\n+//   const { Aliplayer } = window;\r\n+  \r\n+  onMounted(() => {\r\n+    const player = new Aliplayer({\r\n+      id: 'player-con',\r\n+      source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n+      width: '100%',\r\n+      height: '500px',\r\n+      autoplay: true,\r\n+      isLive: false,\r\n+      rePlay: true,\r\n+      playsinline: true,\r\n+      preload: true,\r\n+      controlBarVisibility: 'hover',\r\n+      useH5Prism: true,\r\n+    }, function(player) {\r\n+      player._switchLevel = 0;\r\n+      console.log('播放器创建了。');\r\n+    });\r\n+  \r\n+    const playerCon = document.getElementById('player-con');\r\n+    player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n+  });\r\n+\r\n+  function info(){\r\n+    \r\n+  }\r\n+  </script>\r\n+  \r\n+  <style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711360195312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,17 +1,17 @@\n <!--\r\n  * @Author: Fleurxxx 984209872@qq.com\r\n  * @Date: 2024-03-25 16:44:15\r\n  * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-25 17:48:16\r\n+ * @LastEditTime: 2024-03-25 17:49:55\r\n  * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n  * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n -->\r\n <template>\r\n     <div class=\"prism-player\" ref=\"playerCon\"></div>\r\n   </template>\r\n   \r\n-  <script setup lang=\"ts\">\r\n+  <script lang=\"ts\">\r\n   import { onMounted } from 'vue';\r\n   \r\n //   const { Aliplayer } = window;\r\n   \r\n@@ -37,56 +37,71 @@\n     player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n   });\r\n \r\n   function info(){\r\n-    \r\n+    var player = new Aliplayer({\r\n+          id: this.playerId,\r\n+          width: '100%',\r\n+          height: this.realHeight,\r\n+          autoplay: true,\r\n+          //支持播放地址播放,此播放优先级最高\r\n+          source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+          //播放方式二：点播用户推荐\r\n+          vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+          playauth : '', //必选参数。音视频播放凭证。\r\n+          cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+          //播放方式三：仅MPS用户使用\r\n+          vid : '1e067a2831b641db90d570b6480fbc40',\r\n+          accId: '',\r\n+          accSecret: '',\r\n+          stsToken: '',\r\n+          domainRegion: '',\r\n+          authInfo: '',\r\n+          //播放方式四：使用STS方式播放\r\n+          vid : '1e067a2831b641db90d570b6480fbc40',\r\n+          accessKeyId: '',\r\n+          securityToken: '',\r\n+          accessKeySecret: '',\r\n+          // isLive: true,\r\n+          // getCurrentTime: _this.aaaa\r\n+          // 以下可选设置\r\n+          cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+          qualitySort: 'asc', // 清晰度排序\r\n+          mediaType: 'video', // 返回音频还是视频\r\n+          autoplay: false, // 自动播放\r\n+          isLive: false, // 直播\r\n+          rePlay: false, // 循环播放\r\n+          preload: true,   //播放器自动加载\r\n+          controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+          controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+          showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+          components: [\r\n+          //   {\r\n+          //     name: 'MemoryPlayComponent',\r\n+          //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+          //     args: [false, getTime, saveTime]\r\n+          // },\r\n+          {\r\n+            name: 'StartADComponent',\r\n+            type: AliPlayerComponent.StartADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+          }, {\r\n+            name: 'PauseADComponent',\r\n+            type: AliPlayerComponent.PauseADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n+          },\r\n+          // {\r\n+          //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+          //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+          //     args: [this.danmukuList]\r\n+          // },\r\n+        ],\r\n+\r\n+      },function(player){\r\n+          console.log('播放器创建好了。')\r\n+      });\r\n   }\r\n   </script>\r\n   \r\n   <style lang=\"postcss\" scoped>\r\n   @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n-</style>\n-<!--\r\n- * @Author: Fleurxxx 984209872@qq.com\r\n- * @Date: 2024-03-25 16:44:15\r\n- * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-25 17:48:16\r\n- * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n- * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n--->\r\n-<template>\r\n-    <div class=\"prism-player\" ref=\"playerCon\"></div>\r\n-  </template>\r\n-  \r\n-  <script setup lang=\"ts\">\r\n-  import { onMounted } from 'vue';\r\n-  \r\n-//   const { Aliplayer } = window;\r\n-  \r\n-  onMounted(() => {\r\n-    const player = new Aliplayer({\r\n-      id: 'player-con',\r\n-      source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n-      width: '100%',\r\n-      height: '500px',\r\n-      autoplay: true,\r\n-      isLive: false,\r\n-      rePlay: true,\r\n-      playsinline: true,\r\n-      preload: true,\r\n-      controlBarVisibility: 'hover',\r\n-      useH5Prism: true,\r\n-    }, function(player) {\r\n-      player._switchLevel = 0;\r\n-      console.log('播放器创建了。');\r\n-    });\r\n-  \r\n-    const playerCon = document.getElementById('player-con');\r\n-    player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n-  });\r\n-\r\n-  function \r\n-  </script>\r\n-  \r\n-  <style lang=\"postcss\" scoped>\r\n-  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711360230483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,226 @@\n+<!--\r\n+ * @Author: Fleurxxx 984209872@qq.com\r\n+ * @Date: 2024-03-25 16:44:15\r\n+ * @LastEditors: Fleurxxx 984209872@qq.com\r\n+ * @LastEditTime: 2024-03-25 17:49:55\r\n+ * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n+ * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n+-->\r\n+<template>\r\n+    <div class=\"prism-player\" ref=\"playerCon\"></div>\r\n+  </template>\r\n+  \r\n+  <script lang=\"ts\">\r\n+ export default {\r\n+  data() {\r\n+      return {\r\n+          playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+          scriptTagStatus: 0,\r\n+          isReload: false,\r\n+          instance: null,\r\n+            // 默认宽度\r\n+          defaultWidth: 718,\r\n+          // 默认高度\r\n+          defaultHeight: 400,\r\n+          danmukuList: [{\r\n+              \"mode\": 1,\r\n+              \"text\": \"哈哈\",\r\n+              \"stime\": 1000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xffffff\r\n+          }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"前方高能\",\r\n+              \"stime\": 2000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+          }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"灵魂歌手\",\r\n+              \"stime\": 30000,\r\n+              \"size\": 25,\r\n+              \"color\": 0xff0000\r\n+          }, {\r\n+              \"mode\": 1,\r\n+              \"text\": \"顺手一划\",\r\n+              \"stime\": 10000,\r\n+              \"size\": 25,\r\n+              \"color\": 0x00c1de\r\n+          }]\r\n+      }\r\n+  },\r\n+  created() {\r\n+      \r\n+  },\r\n+  watch: {\r\n+    // 监听视频Id的变化\r\n+    async videoId(newVal, oldVal) {\r\n+      await this.getPlayAuth; //重新获取playAuth\r\n+      this.init(); // 监听变化初始化\r\n+    },\r\n+  },\r\n+  computed: {\r\n+    // 计算后得到的真实宽度\r\n+    realWidth () {\r\n+      // 如果从外部传入了高度，则按照外部高度乘以宽高比，获取真实宽度，否则按照默认高度计算\r\n+      return `${(this.height || this.defaultHeight) * ratio}px`\r\n+    },\r\n+    // 计算后得到真实高度\r\n+    realHeight () {\r\n+      // 如果从外部传入了宽度，则按照外部宽度乘以宽高比，获取真实高度，否则按照默认宽度计算\r\n+      return `${(this.width || this.defaultWidth) / ratio}px`\r\n+    }\r\n+  },\r\n+  mounted() {\r\n+    this.init();\r\n+  },\r\n+  methods: {\r\n+    //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+  async getPlayAuth() {\r\n+    // let res = await getAuth(this.videoId);\r\n+    // this.PlayAuth = res.data.data.PlayAuth;\r\n+  },\r\n+  //初始化aliplayer\r\n+  async init() {\r\n+      var This = this;\r\n+      if (This.player) {\r\n+        // 如果已经创建了，就销毁\r\n+        This.player.dispose();\r\n+      }\r\n+      // let res = await getAuth(This.videoId);\r\n+      // This.PlayAuth = res.data.data.PlayAuth;\r\n+      // 创建实例\r\n+      var player = new Aliplayer({\r\n+          id: this.playerId,\r\n+          width: '100%',\r\n+          height: this.realHeight,\r\n+          autoplay: true,\r\n+          //支持播放地址播放,此播放优先级最高\r\n+          source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+          //播放方式二：点播用户推荐\r\n+          vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+          playauth : '', //必选参数。音视频播放凭证。\r\n+          cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+          //播放方式三：仅MPS用户使用\r\n+          vid : '1e067a2831b641db90d570b6480fbc40',\r\n+          accId: '',\r\n+          accSecret: '',\r\n+          stsToken: '',\r\n+          domainRegion: '',\r\n+          authInfo: '',\r\n+          //播放方式四：使用STS方式播放\r\n+          vid : '1e067a2831b641db90d570b6480fbc40',\r\n+          accessKeyId: '',\r\n+          securityToken: '',\r\n+          accessKeySecret: '',\r\n+          // isLive: true,\r\n+          // getCurrentTime: _this.aaaa\r\n+          // 以下可选设置\r\n+          cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+          qualitySort: 'asc', // 清晰度排序\r\n+          mediaType: 'video', // 返回音频还是视频\r\n+          autoplay: false, // 自动播放\r\n+          isLive: false, // 直播\r\n+          rePlay: false, // 循环播放\r\n+          preload: true,   //播放器自动加载\r\n+          controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+          controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+          showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+          components: [\r\n+          //   {\r\n+          //     name: 'MemoryPlayComponent',\r\n+          //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+          //     args: [false, getTime, saveTime]\r\n+          // },\r\n+          {\r\n+            name: 'StartADComponent',\r\n+            type: AliPlayerComponent.StartADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+          }, {\r\n+            name: 'PauseADComponent',\r\n+            type: AliPlayerComponent.PauseADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n+          },\r\n+          // {\r\n+          //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+          //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+          //     args: [this.danmukuList]\r\n+          // },\r\n+        ],\r\n+\r\n+      },function(player){\r\n+          console.log('播放器创建好了。')\r\n+      });\r\n+      This.player = player;\r\n+    },\r\n+    \r\n+  }\r\n+}\r\n+  function info(){\r\n+    var player = new Aliplayer({\r\n+          id: this.playerId,\r\n+          width: '100%',\r\n+          height: this.realHeight,\r\n+          autoplay: true,\r\n+          //支持播放地址播放,此播放优先级最高\r\n+          source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+          //播放方式二：点播用户推荐\r\n+          vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+          playauth : '', //必选参数。音视频播放凭证。\r\n+          cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+          //播放方式三：仅MPS用户使用\r\n+          vid : '1e067a2831b641db90d570b6480fbc40',\r\n+          accId: '',\r\n+          accSecret: '',\r\n+          stsToken: '',\r\n+          domainRegion: '',\r\n+          authInfo: '',\r\n+          //播放方式四：使用STS方式播放\r\n+          vid : '1e067a2831b641db90d570b6480fbc40',\r\n+          accessKeyId: '',\r\n+          securityToken: '',\r\n+          accessKeySecret: '',\r\n+          // isLive: true,\r\n+          // getCurrentTime: _this.aaaa\r\n+          // 以下可选设置\r\n+          cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+          qualitySort: 'asc', // 清晰度排序\r\n+          mediaType: 'video', // 返回音频还是视频\r\n+          autoplay: false, // 自动播放\r\n+          isLive: false, // 直播\r\n+          rePlay: false, // 循环播放\r\n+          preload: true,   //播放器自动加载\r\n+          controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+          controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+          showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+          components: [\r\n+          //   {\r\n+          //     name: 'MemoryPlayComponent',\r\n+          //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+          //     args: [false, getTime, saveTime]\r\n+          // },\r\n+          {\r\n+            name: 'StartADComponent',\r\n+            type: AliPlayerComponent.StartADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+          }, {\r\n+            name: 'PauseADComponent',\r\n+            type: AliPlayerComponent.PauseADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n+          },\r\n+          // {\r\n+          //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+          //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+          //     args: [this.danmukuList]\r\n+          // },\r\n+        ],\r\n+\r\n+      },function(player){\r\n+          console.log('播放器创建好了。')\r\n+      });\r\n+  }\r\n+  </script>\r\n+  \r\n+  <style lang=\"postcss\" scoped>\r\n+  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+</style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711360242110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,178 +156,11 @@\n     \r\n   }\r\n }\r\n   function info(){\r\n-    var player = new Aliplayer({\r\n-          id: this.playerId,\r\n-          width: '100%',\r\n-          height: this.realHeight,\r\n-          autoplay: true,\r\n-          //支持播放地址播放,此播放优先级最高\r\n-          source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-          //播放方式二：点播用户推荐\r\n-          vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-          playauth : '', //必选参数。音视频播放凭证。\r\n-          cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-          //播放方式三：仅MPS用户使用\r\n-          vid : '1e067a2831b641db90d570b6480fbc40',\r\n-          accId: '',\r\n-          accSecret: '',\r\n-          stsToken: '',\r\n-          domainRegion: '',\r\n-          authInfo: '',\r\n-          //播放方式四：使用STS方式播放\r\n-          vid : '1e067a2831b641db90d570b6480fbc40',\r\n-          accessKeyId: '',\r\n-          securityToken: '',\r\n-          accessKeySecret: '',\r\n-          // isLive: true,\r\n-          // getCurrentTime: _this.aaaa\r\n-          // 以下可选设置\r\n-          cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-          qualitySort: 'asc', // 清晰度排序\r\n-          mediaType: 'video', // 返回音频还是视频\r\n-          autoplay: false, // 自动播放\r\n-          isLive: false, // 直播\r\n-          rePlay: false, // 循环播放\r\n-          preload: true,   //播放器自动加载\r\n-          controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-          controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-          showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-          components: [\r\n-          //   {\r\n-          //     name: 'MemoryPlayComponent',\r\n-          //     type: AliPlayerComponent.MemoryPlayComponent,\r\n-          //     args: [false, getTime, saveTime]\r\n-          // },\r\n-          {\r\n-            name: 'StartADComponent',\r\n-            type: AliPlayerComponent.StartADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-          }, {\r\n-            name: 'PauseADComponent',\r\n-            type: AliPlayerComponent.PauseADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n-          },\r\n-          // {\r\n-          //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-          //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-          //     args: [this.danmukuList]\r\n-          // },\r\n-        ],\r\n-\r\n-      },function(player){\r\n-          console.log('播放器创建好了。')\r\n-      });\r\n+    \r\n   }\r\n   </script>\r\n   \r\n   <style lang=\"postcss\" scoped>\r\n   @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n-</style>\n-<!--\r\n- * @Author: Fleurxxx 984209872@qq.com\r\n- * @Date: 2024-03-25 16:44:15\r\n- * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-25 17:49:55\r\n- * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n- * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n--->\r\n-<template>\r\n-    <div class=\"prism-player\" ref=\"playerCon\"></div>\r\n-  </template>\r\n-  \r\n-  <script lang=\"ts\">\r\n-  import { onMounted } from 'vue';\r\n-  \r\n-//   const { Aliplayer } = window;\r\n-  \r\n-  onMounted(() => {\r\n-    const player = new Aliplayer({\r\n-      id: 'player-con',\r\n-      source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n-      width: '100%',\r\n-      height: '500px',\r\n-      autoplay: true,\r\n-      isLive: false,\r\n-      rePlay: true,\r\n-      playsinline: true,\r\n-      preload: true,\r\n-      controlBarVisibility: 'hover',\r\n-      useH5Prism: true,\r\n-    }, function(player) {\r\n-      player._switchLevel = 0;\r\n-      console.log('播放器创建了。');\r\n-    });\r\n-  \r\n-    const playerCon = document.getElementById('player-con');\r\n-    player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n-  });\r\n-\r\n-  function info(){\r\n-    var player = new Aliplayer({\r\n-          id: this.playerId,\r\n-          width: '100%',\r\n-          height: this.realHeight,\r\n-          autoplay: true,\r\n-          //支持播放地址播放,此播放优先级最高\r\n-          source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-          //播放方式二：点播用户推荐\r\n-          vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-          playauth : '', //必选参数。音视频播放凭证。\r\n-          cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-          //播放方式三：仅MPS用户使用\r\n-          vid : '1e067a2831b641db90d570b6480fbc40',\r\n-          accId: '',\r\n-          accSecret: '',\r\n-          stsToken: '',\r\n-          domainRegion: '',\r\n-          authInfo: '',\r\n-          //播放方式四：使用STS方式播放\r\n-          vid : '1e067a2831b641db90d570b6480fbc40',\r\n-          accessKeyId: '',\r\n-          securityToken: '',\r\n-          accessKeySecret: '',\r\n-          // isLive: true,\r\n-          // getCurrentTime: _this.aaaa\r\n-          // 以下可选设置\r\n-          cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-          qualitySort: 'asc', // 清晰度排序\r\n-          mediaType: 'video', // 返回音频还是视频\r\n-          autoplay: false, // 自动播放\r\n-          isLive: false, // 直播\r\n-          rePlay: false, // 循环播放\r\n-          preload: true,   //播放器自动加载\r\n-          controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-          controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-          showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-          components: [\r\n-          //   {\r\n-          //     name: 'MemoryPlayComponent',\r\n-          //     type: AliPlayerComponent.MemoryPlayComponent,\r\n-          //     args: [false, getTime, saveTime]\r\n-          // },\r\n-          {\r\n-            name: 'StartADComponent',\r\n-            type: AliPlayerComponent.StartADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-          }, {\r\n-            name: 'PauseADComponent',\r\n-            type: AliPlayerComponent.PauseADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n-          },\r\n-          // {\r\n-          //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-          //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-          //     args: [this.danmukuList]\r\n-          // },\r\n-        ],\r\n-\r\n-      },function(player){\r\n-          console.log('播放器创建好了。')\r\n-      });\r\n-  }\r\n-  </script>\r\n-  \r\n-  <style lang=\"postcss\" scoped>\r\n-  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711360257432,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,166 +1,164 @@\n <!--\r\n  * @Author: Fleurxxx 984209872@qq.com\r\n  * @Date: 2024-03-25 16:44:15\r\n  * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-25 17:49:55\r\n+ * @LastEditTime: 2024-03-25 17:50:57\r\n  * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n  * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n -->\r\n <template>\r\n-    <div class=\"prism-player\" ref=\"playerCon\"></div>\r\n-  </template>\r\n-  \r\n-  <script lang=\"ts\">\r\n- export default {\r\n-  data() {\r\n-      return {\r\n-          playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n-          scriptTagStatus: 0,\r\n-          isReload: false,\r\n-          instance: null,\r\n-            // 默认宽度\r\n-          defaultWidth: 718,\r\n-          // 默认高度\r\n-          defaultHeight: 400,\r\n-          danmukuList: [{\r\n-              \"mode\": 1,\r\n-              \"text\": \"哈哈\",\r\n-              \"stime\": 1000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xffffff\r\n-          }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"前方高能\",\r\n-              \"stime\": 2000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-          }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"灵魂歌手\",\r\n-              \"stime\": 30000,\r\n-              \"size\": 25,\r\n-              \"color\": 0xff0000\r\n-          }, {\r\n-              \"mode\": 1,\r\n-              \"text\": \"顺手一划\",\r\n-              \"stime\": 10000,\r\n-              \"size\": 25,\r\n-              \"color\": 0x00c1de\r\n-          }]\r\n-      }\r\n-  },\r\n-  created() {\r\n-      \r\n-  },\r\n-  watch: {\r\n-    // 监听视频Id的变化\r\n-    async videoId(newVal, oldVal) {\r\n-      await this.getPlayAuth; //重新获取playAuth\r\n-      this.init(); // 监听变化初始化\r\n-    },\r\n-  },\r\n-  computed: {\r\n-    // 计算后得到的真实宽度\r\n-    realWidth () {\r\n-      // 如果从外部传入了高度，则按照外部高度乘以宽高比，获取真实宽度，否则按照默认高度计算\r\n-      return `${(this.height || this.defaultHeight) * ratio}px`\r\n-    },\r\n-    // 计算后得到真实高度\r\n-    realHeight () {\r\n-      // 如果从外部传入了宽度，则按照外部宽度乘以宽高比，获取真实高度，否则按照默认宽度计算\r\n-      return `${(this.width || this.defaultWidth) / ratio}px`\r\n+<div class=\"prism-player\" ref=\"playerCon\"></div>\r\n+</template>\r\n+\r\n+<script lang=\"ts\">\r\n+export default {\r\n+data() {\r\n+    return {\r\n+        playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+        scriptTagStatus: 0,\r\n+        isReload: false,\r\n+        instance: null,\r\n+        // 默认宽度\r\n+        defaultWidth: 718,\r\n+        // 默认高度\r\n+        defaultHeight: 400,\r\n+        danmukuList: [{\r\n+            \"mode\": 1,\r\n+            \"text\": \"哈哈\",\r\n+            \"stime\": 1000,\r\n+            \"size\": 25,\r\n+            \"color\": 0xffffff\r\n+        }, {\r\n+            \"mode\": 1,\r\n+            \"text\": \"前方高能\",\r\n+            \"stime\": 2000,\r\n+            \"size\": 25,\r\n+            \"color\": 0xff0000\r\n+        }, {\r\n+            \"mode\": 1,\r\n+            \"text\": \"灵魂歌手\",\r\n+            \"stime\": 30000,\r\n+            \"size\": 25,\r\n+            \"color\": 0xff0000\r\n+        }, {\r\n+            \"mode\": 1,\r\n+            \"text\": \"顺手一划\",\r\n+            \"stime\": 10000,\r\n+            \"size\": 25,\r\n+            \"color\": 0x00c1de\r\n+        }]\r\n     }\r\n-  },\r\n-  mounted() {\r\n-    this.init();\r\n-  },\r\n-  methods: {\r\n-    //从后端获取playAuth(视频播放凭证，根据videoId)\r\n-  async getPlayAuth() {\r\n-    // let res = await getAuth(this.videoId);\r\n-    // this.PlayAuth = res.data.data.PlayAuth;\r\n-  },\r\n-  //初始化aliplayer\r\n-  async init() {\r\n-      var This = this;\r\n-      if (This.player) {\r\n-        // 如果已经创建了，就销毁\r\n-        This.player.dispose();\r\n-      }\r\n-      // let res = await getAuth(This.videoId);\r\n-      // This.PlayAuth = res.data.data.PlayAuth;\r\n-      // 创建实例\r\n-      var player = new Aliplayer({\r\n-          id: this.playerId,\r\n-          width: '100%',\r\n-          height: this.realHeight,\r\n-          autoplay: true,\r\n-          //支持播放地址播放,此播放优先级最高\r\n-          source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-          //播放方式二：点播用户推荐\r\n-          vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-          playauth : '', //必选参数。音视频播放凭证。\r\n-          cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-          //播放方式三：仅MPS用户使用\r\n-          vid : '1e067a2831b641db90d570b6480fbc40',\r\n-          accId: '',\r\n-          accSecret: '',\r\n-          stsToken: '',\r\n-          domainRegion: '',\r\n-          authInfo: '',\r\n-          //播放方式四：使用STS方式播放\r\n-          vid : '1e067a2831b641db90d570b6480fbc40',\r\n-          accessKeyId: '',\r\n-          securityToken: '',\r\n-          accessKeySecret: '',\r\n-          // isLive: true,\r\n-          // getCurrentTime: _this.aaaa\r\n-          // 以下可选设置\r\n-          cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-          qualitySort: 'asc', // 清晰度排序\r\n-          mediaType: 'video', // 返回音频还是视频\r\n-          autoplay: false, // 自动播放\r\n-          isLive: false, // 直播\r\n-          rePlay: false, // 循环播放\r\n-          preload: true,   //播放器自动加载\r\n-          controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-          controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-          showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-          components: [\r\n-          //   {\r\n-          //     name: 'MemoryPlayComponent',\r\n-          //     type: AliPlayerComponent.MemoryPlayComponent,\r\n-          //     args: [false, getTime, saveTime]\r\n-          // },\r\n-          {\r\n-            name: 'StartADComponent',\r\n-            type: AliPlayerComponent.StartADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-          }, {\r\n-            name: 'PauseADComponent',\r\n-            type: AliPlayerComponent.PauseADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n-          },\r\n-          // {\r\n-          //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-          //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-          //     args: [this.danmukuList]\r\n-          // },\r\n-        ],\r\n-\r\n-      },function(player){\r\n-          console.log('播放器创建好了。')\r\n-      });\r\n-      This.player = player;\r\n-    },\r\n+},\r\n+created() {\r\n     \r\n-  }\r\n+},\r\n+watch: {\r\n+// 监听视频Id的变化\r\n+async videoId(newVal, oldVal) {\r\n+    await this.getPlayAuth; //重新获取playAuth\r\n+    this.init(); // 监听变化初始化\r\n+},\r\n+},\r\n+computed: {\r\n+// 计算后得到的真实宽度\r\n+realWidth () {\r\n+    // 如果从外部传入了高度，则按照外部高度乘以宽高比，获取真实宽度，否则按照默认高度计算\r\n+    return `${(this.height || this.defaultHeight) * ratio}px`\r\n+},\r\n+// 计算后得到真实高度\r\n+realHeight () {\r\n+    // 如果从外部传入了宽度，则按照外部宽度乘以宽高比，获取真实高度，否则按照默认宽度计算\r\n+    return `${(this.width || this.defaultWidth) / ratio}px`\r\n }\r\n-  function info(){\r\n-    \r\n-  }\r\n-  </script>\r\n+},\r\n+mounted() {\r\n+this.init();\r\n+},\r\n+methods: {\r\n+//从后端获取playAuth(视频播放凭证，根据videoId)\r\n+async getPlayAuth() {\r\n+// let res = await getAuth(this.videoId);\r\n+// this.PlayAuth = res.data.data.PlayAuth;\r\n+},\r\n+//初始化aliplayer\r\n+async init() {\r\n+    var This = this;\r\n+    if (This.player) {\r\n+    // 如果已经创建了，就销毁\r\n+    This.player.dispose();\r\n+    }\r\n+    // let res = await getAuth(This.videoId);\r\n+    // This.PlayAuth = res.data.data.PlayAuth;\r\n+    // 创建实例\r\n+    var player = new Aliplayer({\r\n+        id: this.playerId,\r\n+        width: '100%',\r\n+        height: this.realHeight,\r\n+        autoplay: true,\r\n+        //支持播放地址播放,此播放优先级最高\r\n+        source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+        //播放方式二：点播用户推荐\r\n+        vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+        playauth : '', //必选参数。音视频播放凭证。\r\n+        cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+        //播放方式三：仅MPS用户使用\r\n+        vid : '1e067a2831b641db90d570b6480fbc40',\r\n+        accId: '',\r\n+        accSecret: '',\r\n+        stsToken: '',\r\n+        domainRegion: '',\r\n+        authInfo: '',\r\n+        //播放方式四：使用STS方式播放\r\n+        vid : '1e067a2831b641db90d570b6480fbc40',\r\n+        accessKeyId: '',\r\n+        securityToken: '',\r\n+        accessKeySecret: '',\r\n+        // isLive: true,\r\n+        // getCurrentTime: _this.aaaa\r\n+        // 以下可选设置\r\n+        cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+        qualitySort: 'asc', // 清晰度排序\r\n+        mediaType: 'video', // 返回音频还是视频\r\n+        autoplay: false, // 自动播放\r\n+        isLive: false, // 直播\r\n+        rePlay: false, // 循环播放\r\n+        preload: true,   //播放器自动加载\r\n+        controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+        controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+        showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+        components: [\r\n+        //   {\r\n+        //     name: 'MemoryPlayComponent',\r\n+        //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+        //     args: [false, getTime, saveTime]\r\n+        // },\r\n+        {\r\n+        name: 'StartADComponent',\r\n+        type: AliPlayerComponent.StartADComponent,\r\n+        args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+        }, {\r\n+        name: 'PauseADComponent',\r\n+        type: AliPlayerComponent.PauseADComponent,\r\n+        args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n+        },\r\n+        // {\r\n+        //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+        //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+        //     args: [this.danmukuList]\r\n+        // },\r\n+    ],\r\n+\r\n+    },function(player){\r\n+        console.log('播放器创建好了。')\r\n+    });\r\n+    This.player = player;\r\n+},\r\n+\r\n+}\r\n+}\r\n+\r\n+</script>\r\n   \r\n   <style lang=\"postcss\" scoped>\r\n   @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711360265087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,9 +71,9 @@\n     return `${(this.width || this.defaultWidth) / ratio}px`\r\n }\r\n },\r\n mounted() {\r\n-this.init();\r\n+    this.init();\r\n },\r\n methods: {\r\n //从后端获取playAuth(视频播放凭证，根据videoId)\r\n async getPlayAuth() {\r\n"
                },
                {
                    "date": 1711360281545,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,89 +74,89 @@\n mounted() {\r\n     this.init();\r\n },\r\n methods: {\r\n-//从后端获取playAuth(视频播放凭证，根据videoId)\r\n-async getPlayAuth() {\r\n-// let res = await getAuth(this.videoId);\r\n-// this.PlayAuth = res.data.data.PlayAuth;\r\n-},\r\n-//初始化aliplayer\r\n-async init() {\r\n-    var This = this;\r\n-    if (This.player) {\r\n-    // 如果已经创建了，就销毁\r\n-    This.player.dispose();\r\n-    }\r\n-    // let res = await getAuth(This.videoId);\r\n-    // This.PlayAuth = res.data.data.PlayAuth;\r\n-    // 创建实例\r\n-    var player = new Aliplayer({\r\n-        id: this.playerId,\r\n-        width: '100%',\r\n-        height: this.realHeight,\r\n-        autoplay: true,\r\n-        //支持播放地址播放,此播放优先级最高\r\n-        source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-        //播放方式二：点播用户推荐\r\n-        vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-        playauth : '', //必选参数。音视频播放凭证。\r\n-        cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-        //播放方式三：仅MPS用户使用\r\n-        vid : '1e067a2831b641db90d570b6480fbc40',\r\n-        accId: '',\r\n-        accSecret: '',\r\n-        stsToken: '',\r\n-        domainRegion: '',\r\n-        authInfo: '',\r\n-        //播放方式四：使用STS方式播放\r\n-        vid : '1e067a2831b641db90d570b6480fbc40',\r\n-        accessKeyId: '',\r\n-        securityToken: '',\r\n-        accessKeySecret: '',\r\n-        // isLive: true,\r\n-        // getCurrentTime: _this.aaaa\r\n-        // 以下可选设置\r\n-        cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-        qualitySort: 'asc', // 清晰度排序\r\n-        mediaType: 'video', // 返回音频还是视频\r\n-        autoplay: false, // 自动播放\r\n-        isLive: false, // 直播\r\n-        rePlay: false, // 循环播放\r\n-        preload: true,   //播放器自动加载\r\n-        controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-        controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-        showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-        components: [\r\n-        //   {\r\n-        //     name: 'MemoryPlayComponent',\r\n-        //     type: AliPlayerComponent.MemoryPlayComponent,\r\n-        //     args: [false, getTime, saveTime]\r\n-        // },\r\n-        {\r\n-        name: 'StartADComponent',\r\n-        type: AliPlayerComponent.StartADComponent,\r\n-        args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-        }, {\r\n-        name: 'PauseADComponent',\r\n-        type: AliPlayerComponent.PauseADComponent,\r\n-        args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n-        },\r\n-        // {\r\n-        //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-        //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-        //     args: [this.danmukuList]\r\n-        // },\r\n-    ],\r\n+    //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+        // let res = await getAuth(this.videoId);\r\n+        // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+        // 如果已经创建了，就销毁\r\n+        This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            height: this.realHeight,\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [\r\n+            //   {\r\n+            //     name: 'MemoryPlayComponent',\r\n+            //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+            //     args: [false, getTime, saveTime]\r\n+            // },\r\n+            {\r\n+            name: 'StartADComponent',\r\n+            type: AliPlayerComponent.StartADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+            }, {\r\n+            name: 'PauseADComponent',\r\n+            type: AliPlayerComponent.PauseADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n+            },\r\n+            // {\r\n+            //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+            //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+            //     args: [this.danmukuList]\r\n+            // },\r\n+        ],\r\n \r\n-    },function(player){\r\n-        console.log('播放器创建好了。')\r\n-    });\r\n-    This.player = player;\r\n-},\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+    },\r\n \r\n+    }\r\n }\r\n-}\r\n \r\n </script>\r\n   \r\n   <style lang=\"postcss\" scoped>\r\n"
                },
                {
                    "date": 1711360304740,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,79 +81,79 @@\n         // this.PlayAuth = res.data.data.PlayAuth;\r\n     },\r\n     //初始化aliplayer\r\n     async init() {\r\n-        var This = this;\r\n-        if (This.player) {\r\n-        // 如果已经创建了，就销毁\r\n-        This.player.dispose();\r\n-        }\r\n-        // let res = await getAuth(This.videoId);\r\n-        // This.PlayAuth = res.data.data.PlayAuth;\r\n-        // 创建实例\r\n-        var player = new Aliplayer({\r\n-            id: this.playerId,\r\n-            width: '100%',\r\n-            height: this.realHeight,\r\n-            autoplay: true,\r\n-            //支持播放地址播放,此播放优先级最高\r\n-            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-            //播放方式二：点播用户推荐\r\n-            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-            playauth : '', //必选参数。音视频播放凭证。\r\n-            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-            //播放方式三：仅MPS用户使用\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accId: '',\r\n-            accSecret: '',\r\n-            stsToken: '',\r\n-            domainRegion: '',\r\n-            authInfo: '',\r\n-            //播放方式四：使用STS方式播放\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accessKeyId: '',\r\n-            securityToken: '',\r\n-            accessKeySecret: '',\r\n-            // isLive: true,\r\n-            // getCurrentTime: _this.aaaa\r\n-            // 以下可选设置\r\n-            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-            qualitySort: 'asc', // 清晰度排序\r\n-            mediaType: 'video', // 返回音频还是视频\r\n-            autoplay: false, // 自动播放\r\n-            isLive: false, // 直播\r\n-            rePlay: false, // 循环播放\r\n-            preload: true,   //播放器自动加载\r\n-            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-            components: [\r\n-            //   {\r\n-            //     name: 'MemoryPlayComponent',\r\n-            //     type: AliPlayerComponent.MemoryPlayComponent,\r\n-            //     args: [false, getTime, saveTime]\r\n-            // },\r\n-            {\r\n-            name: 'StartADComponent',\r\n-            type: AliPlayerComponent.StartADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-            }, {\r\n-            name: 'PauseADComponent',\r\n-            type: AliPlayerComponent.PauseADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n-            },\r\n-            // {\r\n-            //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-            //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-            //     args: [this.danmukuList]\r\n-            // },\r\n-        ],\r\n+            var This = this;\r\n+            if (This.player) {\r\n+            // 如果已经创建了，就销毁\r\n+            This.player.dispose();\r\n+            }\r\n+            // let res = await getAuth(This.videoId);\r\n+            // This.PlayAuth = res.data.data.PlayAuth;\r\n+            // 创建实例\r\n+            var player = new Aliplayer({\r\n+                id: this.playerId,\r\n+                width: '100%',\r\n+                height: this.realHeight,\r\n+                autoplay: true,\r\n+                //支持播放地址播放,此播放优先级最高\r\n+                source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+                //播放方式二：点播用户推荐\r\n+                vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+                playauth : '', //必选参数。音视频播放凭证。\r\n+                cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+                //播放方式三：仅MPS用户使用\r\n+                vid : '1e067a2831b641db90d570b6480fbc40',\r\n+                accId: '',\r\n+                accSecret: '',\r\n+                stsToken: '',\r\n+                domainRegion: '',\r\n+                authInfo: '',\r\n+                //播放方式四：使用STS方式播放\r\n+                vid : '1e067a2831b641db90d570b6480fbc40',\r\n+                accessKeyId: '',\r\n+                securityToken: '',\r\n+                accessKeySecret: '',\r\n+                // isLive: true,\r\n+                // getCurrentTime: _this.aaaa\r\n+                // 以下可选设置\r\n+                cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+                qualitySort: 'asc', // 清晰度排序\r\n+                mediaType: 'video', // 返回音频还是视频\r\n+                autoplay: false, // 自动播放\r\n+                isLive: false, // 直播\r\n+                rePlay: false, // 循环播放\r\n+                preload: true,   //播放器自动加载\r\n+                controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+                controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+                showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+                components: [\r\n+                //   {\r\n+                //     name: 'MemoryPlayComponent',\r\n+                //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+                //     args: [false, getTime, saveTime]\r\n+                // },\r\n+                {\r\n+                name: 'StartADComponent',\r\n+                type: AliPlayerComponent.StartADComponent,\r\n+                args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+                }, {\r\n+                name: 'PauseADComponent',\r\n+                type: AliPlayerComponent.PauseADComponent,\r\n+                args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n+                },\r\n+                // {\r\n+                //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+                //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+                //     args: [this.danmukuList]\r\n+                // },\r\n+            ],\r\n \r\n-        },function(player){\r\n-            console.log('播放器创建好了。')\r\n-        });\r\n-        This.player = player;\r\n-    },\r\n+            },function(player){\r\n+                console.log('播放器创建好了。')\r\n+            });\r\n+            This.player = player;\r\n+        },\r\n \r\n     }\r\n }\r\n \r\n"
                },
                {
                    "date": 1711360315033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,72 +81,72 @@\n         // this.PlayAuth = res.data.data.PlayAuth;\r\n     },\r\n     //初始化aliplayer\r\n     async init() {\r\n-            var This = this;\r\n-            if (This.player) {\r\n-            // 如果已经创建了，就销毁\r\n-            This.player.dispose();\r\n-            }\r\n-            // let res = await getAuth(This.videoId);\r\n-            // This.PlayAuth = res.data.data.PlayAuth;\r\n-            // 创建实例\r\n-            var player = new Aliplayer({\r\n-                id: this.playerId,\r\n-                width: '100%',\r\n-                height: this.realHeight,\r\n-                autoplay: true,\r\n-                //支持播放地址播放,此播放优先级最高\r\n-                source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-                //播放方式二：点播用户推荐\r\n-                vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-                playauth : '', //必选参数。音视频播放凭证。\r\n-                cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-                //播放方式三：仅MPS用户使用\r\n-                vid : '1e067a2831b641db90d570b6480fbc40',\r\n-                accId: '',\r\n-                accSecret: '',\r\n-                stsToken: '',\r\n-                domainRegion: '',\r\n-                authInfo: '',\r\n-                //播放方式四：使用STS方式播放\r\n-                vid : '1e067a2831b641db90d570b6480fbc40',\r\n-                accessKeyId: '',\r\n-                securityToken: '',\r\n-                accessKeySecret: '',\r\n-                // isLive: true,\r\n-                // getCurrentTime: _this.aaaa\r\n-                // 以下可选设置\r\n-                cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-                qualitySort: 'asc', // 清晰度排序\r\n-                mediaType: 'video', // 返回音频还是视频\r\n-                autoplay: false, // 自动播放\r\n-                isLive: false, // 直播\r\n-                rePlay: false, // 循环播放\r\n-                preload: true,   //播放器自动加载\r\n-                controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-                controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-                showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-                components: [\r\n-                //   {\r\n-                //     name: 'MemoryPlayComponent',\r\n-                //     type: AliPlayerComponent.MemoryPlayComponent,\r\n-                //     args: [false, getTime, saveTime]\r\n-                // },\r\n-                {\r\n-                name: 'StartADComponent',\r\n-                type: AliPlayerComponent.StartADComponent,\r\n-                args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-                }, {\r\n-                name: 'PauseADComponent',\r\n-                type: AliPlayerComponent.PauseADComponent,\r\n-                args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n-                },\r\n-                // {\r\n-                //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-                //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-                //     args: [this.danmukuList]\r\n-                // },\r\n+        var This = this;\r\n+        if (This.player) {\r\n+        // 如果已经创建了，就销毁\r\n+        This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            height: this.realHeight,\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [\r\n+            //   {\r\n+            //     name: 'MemoryPlayComponent',\r\n+            //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+            //     args: [false, getTime, saveTime]\r\n+            // },\r\n+            {\r\n+            name: 'StartADComponent',\r\n+            type: AliPlayerComponent.StartADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+            }, {\r\n+            name: 'PauseADComponent',\r\n+            type: AliPlayerComponent.PauseADComponent,\r\n+            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n+            },\r\n+            // {\r\n+            //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+            //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+            //     args: [this.danmukuList]\r\n+            // },\r\n             ],\r\n \r\n             },function(player){\r\n                 console.log('播放器创建好了。')\r\n"
                },
                {
                    "date": 1711362928071,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,164 +1,145 @@\n <!--\r\n  * @Author: Fleurxxx 984209872@qq.com\r\n- * @Date: 2024-03-25 16:44:15\r\n+ * @Date: 2024-03-18 14:41:15\r\n  * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-25 17:50:57\r\n- * @FilePath: \\moving-platform\\src\\component\\Live.vue\r\n+ * @LastEditTime: 2024-03-25 14:56:49\r\n+ * @FilePath: \\moving-platform\\src\\views\\Video.vue\r\n  * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n -->\r\n <template>\r\n-<div class=\"prism-player\" ref=\"playerCon\"></div>\r\n-</template>\r\n-\r\n-<script lang=\"ts\">\r\n-export default {\r\n-data() {\r\n-    return {\r\n-        playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n-        scriptTagStatus: 0,\r\n-        isReload: false,\r\n-        instance: null,\r\n-        // 默认宽度\r\n-        defaultWidth: 718,\r\n-        // 默认高度\r\n-        defaultHeight: 400,\r\n-        danmukuList: [{\r\n-            \"mode\": 1,\r\n-            \"text\": \"哈哈\",\r\n-            \"stime\": 1000,\r\n-            \"size\": 25,\r\n-            \"color\": 0xffffff\r\n-        }, {\r\n-            \"mode\": 1,\r\n-            \"text\": \"前方高能\",\r\n-            \"stime\": 2000,\r\n-            \"size\": 25,\r\n-            \"color\": 0xff0000\r\n-        }, {\r\n-            \"mode\": 1,\r\n-            \"text\": \"灵魂歌手\",\r\n-            \"stime\": 30000,\r\n-            \"size\": 25,\r\n-            \"color\": 0xff0000\r\n-        }, {\r\n-            \"mode\": 1,\r\n-            \"text\": \"顺手一划\",\r\n-            \"stime\": 10000,\r\n-            \"size\": 25,\r\n-            \"color\": 0x00c1de\r\n-        }]\r\n+    <div class=\"center-container\">\r\n+      <div class=\"video-box\">\r\n+        <div class=\"video-box-left\">\r\n+          <Video class=\"video\"/>\r\n+        </div>\r\n+        <div class=\"video-box-right\">\r\n+          <div class=\"right-title\">\r\n+            <p>大会议程</p>\r\n+          </div>\r\n+          <div class=\"right-timeline\">\r\n+             <el-timeline style=\"max-width: 600px\">\r\n+              <el-timeline-item center timestamp=\"2018/4/12\" placement=\"top\">\r\n+                <el-card>\r\n+                  <h4>Update Github template</h4>\r\n+                  <p>Tom committed 2018/4/12 20:46</p>\r\n+                </el-card>\r\n+              </el-timeline-item>\r\n+              <el-timeline-item timestamp=\"2018/4/3\" placement=\"top\">\r\n+                <el-card>\r\n+                  <h4>Update Github template</h4>\r\n+                  <p>Tom committed 2018/4/3 20:46</p>\r\n+                </el-card>\r\n+              </el-timeline-item>\r\n+              <el-timeline-item center timestamp=\"2018/4/2\" placement=\"top\">\r\n+                Event start\r\n+              </el-timeline-item>\r\n+              <el-timeline-item timestamp=\"2018/4/2\" placement=\"top\">\r\n+                Event end\r\n+              </el-timeline-item>\r\n+            </el-timeline>\r\n+          </div>\r\n+         \r\n+        </div>\r\n+      </div>\r\n+      <div class=\"card-box\">\r\n+        <div class=\"title1\">\r\n+          <img class=\"little-title1\" src=\"@/assets/image/common/会议推荐.png\" />\r\n+        </div>\r\n+        <VideoRecommendationCard />\r\n+      </div>\r\n+      <div>\r\n+        <Comment :comment=\"sampleComment\" @remove=\"handleRemove\" />\r\n+      </div>\r\n+    </div>\r\n+  </template>\r\n+  \r\n+  <script setup lang=\"ts\">\r\n+  import { ref, reactive, toRefs, onBeforeMount, onMounted, watchEffect, computed } from 'vue';\r\n+  import { useStore } from 'vuex';\r\n+  import { useRoute, useRouter } from 'vue-router';\r\n+  import Video from '@/component/Video.vue'\r\n+  import VideoRecommendationCard from '@/component/VideoRecommendationCard.vue';\r\n+  import Comment from '@/component/Comment.vue';\r\n+  \r\n+  const store = useStore();\r\n+  const route = useRoute();\r\n+  const router = useRouter();\r\n+  const data = reactive({})\r\n+  \r\n+  // 评论\r\n+  const sampleComment = ref({\r\n+    id: 1,\r\n+    content: '这是一条评论内容'\r\n+  })\r\n+  \r\n+  const handleRemove = (comment:any) => {\r\n+    console.log('需要删除的评论：', comment)\r\n+    // 在这里可以处理删除评论的逻辑\r\n+  }\r\n+  \r\n+  \r\n+  \r\n+  onBeforeMount(() => {\r\n+    //console.log('2.组件挂载页面之前执行----onBeforeMount')\r\n+  })\r\n+  onMounted(() => {\r\n+    //console.log('3.-组件挂载到页面之后执行-------onMounted')\r\n+  })\r\n+  watchEffect(()=>{\r\n+  })\r\n+  // 使用toRefs解构\r\n+  // let { } = { ...toRefs(data) } \r\n+  defineExpose({\r\n+    ...toRefs(data)\r\n+  })\r\n+  \r\n+  </script>\r\n+  <style scoped lang='less'>\r\n+  .center-container{\r\n+    position: relative;\r\n+    margin: 1rem 3rem;\r\n+  }\r\n+  .video-box{\r\n+    width:100%;\r\n+    display: flex;\r\n+    flex-direction: row;\r\n+    flex-wrap: nowrap;\r\n+  }\r\n+  .video-box-left{\r\n+    width:17rem;\r\n+  }\r\n+  .video-box-right{\r\n+    background-color: rgb(213, 213, 213);\r\n+    width:8rem;\r\n+  }\r\n+  .right-title{\r\n+    height: 0.5rem;\r\n+    background-color: rgb(71, 72, 75);\r\n+    // text-align: center;\r\n+    display: flex;\r\n+    justify-content: center; //水平居中\r\n+    align-items: center; //垂直居中\r\n\\ No newline at end of file\n+    p{\r\n+      font-size: large;\r\n+      font-weight: bold;\r\n+      color:white;\r\n     }\r\n-},\r\n-created() {\r\n-    \r\n-},\r\n-watch: {\r\n-// 监听视频Id的变化\r\n-async videoId(newVal, oldVal) {\r\n-    await this.getPlayAuth; //重新获取playAuth\r\n-    this.init(); // 监听变化初始化\r\n-},\r\n-},\r\n-computed: {\r\n-// 计算后得到的真实宽度\r\n-realWidth () {\r\n-    // 如果从外部传入了高度，则按照外部高度乘以宽高比，获取真实宽度，否则按照默认高度计算\r\n-    return `${(this.height || this.defaultHeight) * ratio}px`\r\n-},\r\n-// 计算后得到真实高度\r\n-realHeight () {\r\n-    // 如果从外部传入了宽度，则按照外部宽度乘以宽高比，获取真实高度，否则按照默认宽度计算\r\n-    return `${(this.width || this.defaultWidth) / ratio}px`\r\n-}\r\n-},\r\n-mounted() {\r\n-    this.init();\r\n-},\r\n-methods: {\r\n-    //从后端获取playAuth(视频播放凭证，根据videoId)\r\n-    async getPlayAuth() {\r\n-        // let res = await getAuth(this.videoId);\r\n-        // this.PlayAuth = res.data.data.PlayAuth;\r\n-    },\r\n-    //初始化aliplayer\r\n-    async init() {\r\n-        var This = this;\r\n-        if (This.player) {\r\n-        // 如果已经创建了，就销毁\r\n-        This.player.dispose();\r\n-        }\r\n-        // let res = await getAuth(This.videoId);\r\n-        // This.PlayAuth = res.data.data.PlayAuth;\r\n-        // 创建实例\r\n-        var player = new Aliplayer({\r\n-            id: this.playerId,\r\n-            width: '100%',\r\n-            height: this.realHeight,\r\n-            autoplay: true,\r\n-            //支持播放地址播放,此播放优先级最高\r\n-            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-            //播放方式二：点播用户推荐\r\n-            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-            playauth : '', //必选参数。音视频播放凭证。\r\n-            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-            //播放方式三：仅MPS用户使用\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accId: '',\r\n-            accSecret: '',\r\n-            stsToken: '',\r\n-            domainRegion: '',\r\n-            authInfo: '',\r\n-            //播放方式四：使用STS方式播放\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accessKeyId: '',\r\n-            securityToken: '',\r\n-            accessKeySecret: '',\r\n-            // isLive: true,\r\n-            // getCurrentTime: _this.aaaa\r\n-            // 以下可选设置\r\n-            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-            qualitySort: 'asc', // 清晰度排序\r\n-            mediaType: 'video', // 返回音频还是视频\r\n-            autoplay: false, // 自动播放\r\n-            isLive: false, // 直播\r\n-            rePlay: false, // 循环播放\r\n-            preload: true,   //播放器自动加载\r\n-            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-            components: [\r\n-            //   {\r\n-            //     name: 'MemoryPlayComponent',\r\n-            //     type: AliPlayerComponent.MemoryPlayComponent,\r\n-            //     args: [false, getTime, saveTime]\r\n-            // },\r\n-            {\r\n-            name: 'StartADComponent',\r\n-            type: AliPlayerComponent.StartADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-            }, {\r\n-            name: 'PauseADComponent',\r\n-            type: AliPlayerComponent.PauseADComponent,\r\n-            args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n-            },\r\n-            // {\r\n-            //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-            //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-            //     args: [this.danmukuList]\r\n-            // },\r\n-            ],\r\n-\r\n-            },function(player){\r\n-                console.log('播放器创建好了。')\r\n-            });\r\n-            This.player = player;\r\n-        },\r\n-\r\n-    }\r\n-}\r\n-\r\n-</script>\r\n+  }\r\n+  .right-timeline{\r\n+    margin:0.2rem 0.3rem;\r\n+  }\r\n+  //小标题\r\n+  .title1{\r\n+    height: 3rem;\r\n+    display: flex;\r\n+    justify-content: center;\r\n+  }\r\n+  .little-title1{\r\n+    margin-top: 2%;\r\n+    height:1.8rem;\r\n+  }\r\n+  .card-box{\r\n+    margin-bottom: 1rem;\r\n+  }\r\n   \r\n-  <style lang=\"postcss\" scoped>\r\n-  @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n-</style>\n+  </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711362948570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,145 +1,160 @@\n-<!--\r\n- * @Author: Fleurxxx 984209872@qq.com\r\n- * @Date: 2024-03-18 14:41:15\r\n- * @LastEditors: Fleurxxx 984209872@qq.com\r\n- * @LastEditTime: 2024-03-25 14:56:49\r\n- * @FilePath: \\moving-platform\\src\\views\\Video.vue\r\n- * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n--->\r\n <template>\r\n-    <div class=\"center-container\">\r\n-      <div class=\"video-box\">\r\n-        <div class=\"video-box-left\">\r\n-          <Video class=\"video\"/>\r\n-        </div>\r\n-        <div class=\"video-box-right\">\r\n-          <div class=\"right-title\">\r\n-            <p>大会议程</p>\r\n-          </div>\r\n-          <div class=\"right-timeline\">\r\n-             <el-timeline style=\"max-width: 600px\">\r\n-              <el-timeline-item center timestamp=\"2018/4/12\" placement=\"top\">\r\n-                <el-card>\r\n-                  <h4>Update Github template</h4>\r\n-                  <p>Tom committed 2018/4/12 20:46</p>\r\n-                </el-card>\r\n-              </el-timeline-item>\r\n-              <el-timeline-item timestamp=\"2018/4/3\" placement=\"top\">\r\n-                <el-card>\r\n-                  <h4>Update Github template</h4>\r\n-                  <p>Tom committed 2018/4/3 20:46</p>\r\n-                </el-card>\r\n-              </el-timeline-item>\r\n-              <el-timeline-item center timestamp=\"2018/4/2\" placement=\"top\">\r\n-                Event start\r\n-              </el-timeline-item>\r\n-              <el-timeline-item timestamp=\"2018/4/2\" placement=\"top\">\r\n-                Event end\r\n-              </el-timeline-item>\r\n-            </el-timeline>\r\n-          </div>\r\n-         \r\n-        </div>\r\n-      </div>\r\n-      <div class=\"card-box\">\r\n-        <div class=\"title1\">\r\n-          <img class=\"little-title1\" src=\"@/assets/image/common/会议推荐.png\" />\r\n-        </div>\r\n-        <VideoRecommendationCard />\r\n-      </div>\r\n-      <div>\r\n-        <Comment :comment=\"sampleComment\" @remove=\"handleRemove\" />\r\n-      </div>\r\n+    <div>\r\n+        <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n     </div>\r\n   </template>\r\n   \r\n-  <script setup lang=\"ts\">\r\n-  import { ref, reactive, toRefs, onBeforeMount, onMounted, watchEffect, computed } from 'vue';\r\n-  import { useStore } from 'vuex';\r\n-  import { useRoute, useRouter } from 'vue-router';\r\n-  import Video from '@/component/Video.vue'\r\n-  import VideoRecommendationCard from '@/component/VideoRecommendationCard.vue';\r\n-  import Comment from '@/component/Comment.vue';\r\n+  <script>\r\n+  // 视频的长宽比例，采用 width / height 得到，基本按照 16:9 获取\r\n+  const ratio = 1.78;\r\n   \r\n-  const store = useStore();\r\n-  const route = useRoute();\r\n-  const router = useRouter();\r\n-  const data = reactive({})\r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+              // 默认宽度\r\n+            defaultWidth: 718,\r\n+            // 默认高度\r\n+            defaultHeight: 400,\r\n+            danmukuList: [{\r\n+                \"mode\": 1,\r\n+                \"text\": \"哈哈\",\r\n+                \"stime\": 1000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xffffff\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"前方高能\",\r\n+                \"stime\": 2000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xff0000\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"灵魂歌手\",\r\n+                \"stime\": 30000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xff0000\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"顺手一划\",\r\n+                \"stime\": 10000,\r\n+                \"size\": 25,\r\n+                \"color\": 0x00c1de\r\n+            }]\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    computed: {\r\n+      // 计算后得到的真实宽度\r\n+      realWidth () {\r\n+        // 如果从外部传入了高度，则按照外部高度乘以宽高比，获取真实宽度，否则按照默认高度计算\r\n+        return `${(this.height || this.defaultHeight) * ratio}px`\r\n+      },\r\n+      // 计算后得到真实高度\r\n+      realHeight () {\r\n+        // 如果从外部传入了宽度，则按照外部宽度乘以宽高比，获取真实高度，否则按照默认宽度计算\r\n+        return `${(this.width || this.defaultWidth) / ratio}px`\r\n+      }\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        var player = new Aliplayer({\r\n+            id: this.playerId,\r\n+            width: '100%',\r\n+            height: this.realHeight,\r\n+            autoplay: true,\r\n+            //支持播放地址播放,此播放优先级最高\r\n+            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n+            //播放方式二：点播用户推荐\r\n+            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n+            playauth : '', //必选参数。音视频播放凭证。\r\n+            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n+            //播放方式三：仅MPS用户使用\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accId: '',\r\n+            accSecret: '',\r\n+            stsToken: '',\r\n+            domainRegion: '',\r\n+            authInfo: '',\r\n+            //播放方式四：使用STS方式播放\r\n+            vid : '1e067a2831b641db90d570b6480fbc40',\r\n+            accessKeyId: '',\r\n+            securityToken: '',\r\n+            accessKeySecret: '',\r\n+            // isLive: true,\r\n+            // getCurrentTime: _this.aaaa\r\n+            // 以下可选设置\r\n+            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n+            qualitySort: 'asc', // 清晰度排序\r\n+            mediaType: 'video', // 返回音频还是视频\r\n+            autoplay: false, // 自动播放\r\n+            isLive: false, // 直播\r\n+            rePlay: false, // 循环播放\r\n+            preload: true,   //播放器自动加载\r\n+            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n+            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n+            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n+            components: [\r\n+            //   {\r\n+            //     name: 'MemoryPlayComponent',\r\n+            //     type: AliPlayerComponent.MemoryPlayComponent,\r\n+            //     args: [false, getTime, saveTime]\r\n+            // },\r\n+            {\r\n+              name: 'StartADComponent',\r\n+              type: AliPlayerComponent.StartADComponent,\r\n+              args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n+            }, {\r\n+              name: 'PauseADComponent',\r\n+              type: AliPlayerComponent.PauseADComponent,\r\n+              args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n+            },\r\n+            // {\r\n+            //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n+            //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n+            //     args: [this.danmukuList]\r\n+            // },\r\n+          ],\r\n   \r\n-  // 评论\r\n-  const sampleComment = ref({\r\n-    id: 1,\r\n-    content: '这是一条评论内容'\r\n-  })\r\n-  \r\n-  const handleRemove = (comment:any) => {\r\n-    console.log('需要删除的评论：', comment)\r\n-    // 在这里可以处理删除评论的逻辑\r\n+        },function(player){\r\n+            console.log('播放器创建好了。')\r\n+        });\r\n+        This.player = player;\r\n+      },\r\n+      \r\n+    }\r\n   }\r\n-  \r\n-  \r\n-  \r\n-  onBeforeMount(() => {\r\n-    //console.log('2.组件挂载页面之前执行----onBeforeMount')\r\n-  })\r\n-  onMounted(() => {\r\n-    //console.log('3.-组件挂载到页面之后执行-------onMounted')\r\n-  })\r\n-  watchEffect(()=>{\r\n-  })\r\n-  // 使用toRefs解构\r\n-  // let { } = { ...toRefs(data) } \r\n-  defineExpose({\r\n-    ...toRefs(data)\r\n-  })\r\n-  \r\n   </script>\r\n-  <style scoped lang='less'>\r\n-  .center-container{\r\n-    position: relative;\r\n-    margin: 1rem 3rem;\r\n-  }\r\n-  .video-box{\r\n-    width:100%;\r\n-    display: flex;\r\n-    flex-direction: row;\r\n-    flex-wrap: nowrap;\r\n-  }\r\n-  .video-box-left{\r\n-    width:17rem;\r\n-  }\r\n-  .video-box-right{\r\n-    background-color: rgb(213, 213, 213);\r\n-    width:8rem;\r\n-  }\r\n-  .right-title{\r\n-    height: 0.5rem;\r\n-    background-color: rgb(71, 72, 75);\r\n-    // text-align: center;\r\n-    display: flex;\r\n-    justify-content: center; //水平居中\r\n-    align-items: center; //垂直居中\r\n-    p{\r\n-      font-size: large;\r\n-      font-weight: bold;\r\n-      color:white;\r\n-    }\r\n-  }\r\n-  .right-timeline{\r\n-    margin:0.2rem 0.3rem;\r\n-  }\r\n-  //小标题\r\n-  .title1{\r\n-    height: 3rem;\r\n-    display: flex;\r\n-    justify-content: center;\r\n-  }\r\n-  .little-title1{\r\n-    margin-top: 2%;\r\n-    height:1.8rem;\r\n-  }\r\n-  .card-box{\r\n-    margin-bottom: 1rem;\r\n-  }\r\n   \r\n+  <style lang=\"postcss\" scoped>\r\n+    @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n   </style>\n\\ No newline at end of file\n"
                },
                {
                    "date": 1711362982162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,69 +86,24 @@\n         }\r\n         // let res = await getAuth(This.videoId);\r\n         // This.PlayAuth = res.data.data.PlayAuth;\r\n         // 创建实例\r\n-        var player = new Aliplayer({\r\n-            id: this.playerId,\r\n-            width: '100%',\r\n-            height: this.realHeight,\r\n-            autoplay: true,\r\n-            //支持播放地址播放,此播放优先级最高\r\n-            source : 'https://act.mcake.com/fangli/2018/pc/zhou-nian/video/zhounian-7.mp4',\r\n-            //播放方式二：点播用户推荐\r\n-            vid : '1e067a2831b641db90d570b6480fbc40', //必选参数。音视频ID。示例：1e067a2831b641db90d570b6480f****。\r\n-            playauth : '', //必选参数。音视频播放凭证。\r\n-            cover: 'http://liveroom-img.oss-cn-qingdao.aliyuncs.com/logo.png',            \r\n-            //播放方式三：仅MPS用户使用\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accId: '',\r\n-            accSecret: '',\r\n-            stsToken: '',\r\n-            domainRegion: '',\r\n-            authInfo: '',\r\n-            //播放方式四：使用STS方式播放\r\n-            vid : '1e067a2831b641db90d570b6480fbc40',\r\n-            accessKeyId: '',\r\n-            securityToken: '',\r\n-            accessKeySecret: '',\r\n-            // isLive: true,\r\n-            // getCurrentTime: _this.aaaa\r\n-            // 以下可选设置\r\n-            cover: 'http://guli.shop/photo/banner/1525939573202.jpg', // 封面\r\n-            qualitySort: 'asc', // 清晰度排序\r\n-            mediaType: 'video', // 返回音频还是视频\r\n-            autoplay: false, // 自动播放\r\n-            isLive: false, // 直播\r\n-            rePlay: false, // 循环播放\r\n-            preload: true,   //播放器自动加载\r\n-            controlBarVisibility: 'hover', // 控制条的显示方式：鼠标悬停\r\n-            controlBarVisibility: 'click',    /* The mode of the status bar, which is set to Click. */\r\n-            showBarTime: '10000',             /* The time period that you must wait before the status bar is hidden, which is set to 10,000 milliseconds. */\r\n-            components: [\r\n-            //   {\r\n-            //     name: 'MemoryPlayComponent',\r\n-            //     type: AliPlayerComponent.MemoryPlayComponent,\r\n-            //     args: [false, getTime, saveTime]\r\n-            // },\r\n-            {\r\n-              name: 'StartADComponent',\r\n-              type: AliPlayerComponent.StartADComponent,\r\n-              args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html', 3]\r\n-            }, {\r\n-              name: 'PauseADComponent',\r\n-              type: AliPlayerComponent.PauseADComponent,\r\n-              args: ['https://img.alicdn.com/tfs/TB1byi8afDH8KJjy1XcXXcpdXXa-1920-514.jpg', 'https://promotion.aliyun.com/ntms/act/videoai.html']\r\n-            },\r\n-            // {\r\n-            //     name: 'AliplayerDanmuComponent', // 弹幕组件\r\n-            //     type: AliPlayerComponent.AliplayerDanmuComponent,\r\n-            //     args: [this.danmukuList]\r\n-            // },\r\n-          ],\r\n-  \r\n-        },function(player){\r\n-            console.log('播放器创建好了。')\r\n-        });\r\n+        const player = new window.Aliplayer({\r\n+    id: 'player-con',\r\n+    source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n+    width: '100%',\r\n+    height: '500px',\r\n+    autoplay: true,\r\n+    isLive: false,\r\n+    rePlay: true,\r\n+    playsinline: true,\r\n+    preload: true,\r\n+    controlBarVisibility: 'hover',\r\n+    useH5Prism: true,\r\n+  }, function(player) {\r\n+    player._switchLevel = 0;\r\n+    console.log('播放器创建了。');\r\n+  });\r\n         This.player = player;\r\n       },\r\n       \r\n     }\r\n"
                },
                {
                    "date": 1711362992928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,23 +87,23 @@\n         // let res = await getAuth(This.videoId);\r\n         // This.PlayAuth = res.data.data.PlayAuth;\r\n         // 创建实例\r\n         const player = new window.Aliplayer({\r\n-    id: 'player-con',\r\n-    source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n-    width: '100%',\r\n-    height: '500px',\r\n-    autoplay: true,\r\n-    isLive: false,\r\n-    rePlay: true,\r\n-    playsinline: true,\r\n-    preload: true,\r\n-    controlBarVisibility: 'hover',\r\n-    useH5Prism: true,\r\n-  }, function(player) {\r\n-    player._switchLevel = 0;\r\n-    console.log('播放器创建了。');\r\n-  });\r\n+            id: 'player-con',\r\n+            source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n+            width: '100%',\r\n+            height: '500px',\r\n+            autoplay: true,\r\n+            isLive: false,\r\n+            rePlay: true,\r\n+            playsinline: true,\r\n+            preload: true,\r\n+            controlBarVisibility: 'hover',\r\n+            useH5Prism: true,\r\n+        }, function(player) {\r\n+            player._switchLevel = 0;\r\n+            console.log('播放器创建了。');\r\n+        });\r\n         This.player = player;\r\n       },\r\n       \r\n     }\r\n"
                },
                {
                    "date": 1711363046493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n <template>\r\n     <div>\r\n-        <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>  \r\n+        <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div>\r\n+        <div class=\"prism-player\" ref=\"playerCon\"></div>  \r\n     </div>\r\n   </template>\r\n   \r\n   <script>\r\n"
                },
                {
                    "date": 1711363059846,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -105,9 +105,9 @@\n             console.log('播放器创建了。');\r\n         });\r\n         This.player = player;\r\n         const playerCon = document.getElementById('player-con');\r\n-  p layer.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n+  player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n       },\r\n       \r\n     }\r\n   }\r\n"
                },
                {
                    "date": 1711364116011,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,119 @@\n+<template>\r\n+    <div>\r\n+        ?????????\r\n+        <!-- <div class=\"prism-player\" :id=\"playerId\" :style=\"playStyle\"></div> -->\r\n+        <div class=\"prism-player\" id=\"playerId\"  ></div>  \r\n+    </div>\r\n+  </template>\r\n+  \r\n+  <script>\r\n+  // 视频的长宽比例，采用 width / height 得到，基本按照 16:9 获取\r\n+  const ratio = 1.78;\r\n+  \r\n+  export default {\r\n+    data() {\r\n+        return {\r\n+            playerId: \"aliplayer_\" + Math.random().toString(36).substr(2),\r\n+            scriptTagStatus: 0,\r\n+            isReload: false,\r\n+            instance: null,\r\n+              // 默认宽度\r\n+            defaultWidth: 718,\r\n+            // 默认高度\r\n+            defaultHeight: 400,\r\n+            danmukuList: [{\r\n+                \"mode\": 1,\r\n+                \"text\": \"哈哈\",\r\n+                \"stime\": 1000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xffffff\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"前方高能\",\r\n+                \"stime\": 2000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xff0000\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"灵魂歌手\",\r\n+                \"stime\": 30000,\r\n+                \"size\": 25,\r\n+                \"color\": 0xff0000\r\n+            }, {\r\n+                \"mode\": 1,\r\n+                \"text\": \"顺手一划\",\r\n+                \"stime\": 10000,\r\n+                \"size\": 25,\r\n+                \"color\": 0x00c1de\r\n+            }]\r\n+        }\r\n+    },\r\n+    created() {\r\n+        \r\n+    },\r\n+    watch: {\r\n+      // 监听视频Id的变化\r\n+      async videoId(newVal, oldVal) {\r\n+        await this.getPlayAuth; //重新获取playAuth\r\n+        this.init(); // 监听变化初始化\r\n+      },\r\n+    },\r\n+    computed: {\r\n+      // 计算后得到的真实宽度\r\n+      realWidth () {\r\n+        // 如果从外部传入了高度，则按照外部高度乘以宽高比，获取真实宽度，否则按照默认高度计算\r\n+        return `${(this.height || this.defaultHeight) * ratio}px`\r\n+      },\r\n+      // 计算后得到真实高度\r\n+      realHeight () {\r\n+        // 如果从外部传入了宽度，则按照外部宽度乘以宽高比，获取真实高度，否则按照默认宽度计算\r\n+        return `${(this.width || this.defaultWidth) / ratio}px`\r\n+      }\r\n+    },\r\n+    mounted() {\r\n+      this.init();\r\n+    },\r\n+    methods: {\r\n+      //从后端获取playAuth(视频播放凭证，根据videoId)\r\n+    async getPlayAuth() {\r\n+      // let res = await getAuth(this.videoId);\r\n+      // this.PlayAuth = res.data.data.PlayAuth;\r\n+    },\r\n+    //初始化aliplayer\r\n+    async init() {\r\n+        var This = this;\r\n+        if (This.player) {\r\n+          // 如果已经创建了，就销毁\r\n+          This.player.dispose();\r\n+        }\r\n+        // let res = await getAuth(This.videoId);\r\n+        // This.PlayAuth = res.data.data.PlayAuth;\r\n+        // 创建实例\r\n+        const player = new window.Aliplayer({\r\n+            id: 'player-con',\r\n+            source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711363772-0-0-d8c4588bcb991393908d96d2b183ee22',\r\n+            width: '100%',\r\n+            height: '500px',\r\n+            autoplay: true,\r\n+            isLive: false,\r\n+            rePlay: true,\r\n+            playsinline: true,\r\n+            preload: true,\r\n+            controlBarVisibility: 'hover',\r\n+            useH5Prism: true,\r\n+        }, function(player) {\r\n+            player._switchLevel = 0;\r\n+            console.log('播放器创建了。');\r\n+        });\r\n+        This.player = player;\r\n+        const playerCon = document.getElementById('player-con');\r\n+        player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n+      },\r\n+      \r\n+    }\r\n+  }\r\n+  </script>\r\n+  \r\n+  <style lang=\"postcss\" scoped>\r\n+    @import 'https://g.alicdn.com/de/prismplayer/2.7.2/skins/default/aliplayer-min.css';\r\n+  </style>\n\\ No newline at end of file\n"
                }
            ],
            "date": 1711356260746,
            "name": "Commit-0",
            "content": "<template>\r\n    <div class=\"prism-player\" ref=\"playerCon\"></div>\r\n  </template>\r\n  \r\n  <script setup lang=\"ts\">\r\n  import { onMounted } from 'vue';\r\n  \r\n  const { Aliplayer } = window;\r\n  \r\n  onMounted(() => {\r\n    const player = new Aliplayer({\r\n      id: 'player-con',\r\n      source: 'http://yangshibo.cn/ysl/live.flv?auth_key=1711355216-0-0-117394f2347011b44666c29b83c88ad7',\r\n      width: '100%',\r\n      height: '500px',\r\n      autoplay: true,\r\n      isLive: false,\r\n      rePlay: true,\r\n      playsinline: true,\r\n      preload: true,\r\n      controlBarVisibility: 'hover',\r\n      useH5Prism: true,\r\n    }, function(player) {\r\n      player._switchLevel = 0;\r\n      console.log('播放器创建了。');\r\n    });\r\n  \r\n    const playerCon = document.getElementById('player-con');\r\n    player.attach(playerCon); // 将播放器绑定到指定的 DOM 元素\r\n  });\r\n  </script>\r\n  \r\n  <style>\r\n  /* 可以添加样式，也可以将原有的样式移到这里 */\r\n  </style>\r\n  "
        }
    ]
}